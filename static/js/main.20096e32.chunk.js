(this.webpackJsonpacala_assignment=this.webpackJsonpacala_assignment||[]).push([[0],{1111:function(e,t){},1133:function(e,t){},1135:function(e,t){},1212:function(e,t){},1214:function(e,t){},1250:function(e,t){},1252:function(e,t){},1259:function(e,t){},1260:function(e,t){},1278:function(e,t){},1293:function(e,t){},1295:function(e,t){},1327:function(e,t){},1329:function(e,t){},1336:function(e,t){},1337:function(e,t){},1358:function(e,t){},1368:function(e,t){},1370:function(e,t){},1497:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"getApi",(function(){return _})),n.d(r,"setApi",(function(){return C})),n.d(r,"getBlockchain",(function(){return L})),n.d(r,"setBlockchain",(function(){return S})),n.d(r,"getEndpoint",(function(){return B})),n.d(r,"setEndpoint",(function(){return N})),n.d(r,"tempFilter",(function(){return w})),n.d(r,"ACTION_TYPES",(function(){return A}));var a={};n.r(a),n.d(a,"getPercentLoaded",(function(){return D})),n.d(a,"setPercentLoaded",(function(){return I})),n.d(a,"ACTION_TYPES",(function(){return R}));var c={};n.r(c),n.d(c,"setCurrency",(function(){return Q})),n.d(c,"getCurrency",(function(){return ee})),n.d(c,"getEndpoint",(function(){return te})),n.d(c,"setEndpoint",(function(){return ne})),n.d(c,"setGenesisBlock",(function(){return re})),n.d(c,"getGenesisBlock",(function(){return ae})),n.d(c,"setCurrentBlock",(function(){return ce})),n.d(c,"getCurrentBlock",(function(){return oe})),n.d(c,"setLastBlock",(function(){return ie})),n.d(c,"getLastBlock",(function(){return se})),n.d(c,"setLastFinalizedBlock",(function(){return ue})),n.d(c,"getLastFinalizedBlock",(function(){return le})),n.d(c,"setBlockHash",(function(){return de})),n.d(c,"getBlockHash",(function(){return pe})),n.d(c,"setBlockNumber",(function(){return fe})),n.d(c,"getBlockNumber",(function(){return be})),n.d(c,"tempFilter",(function(){return he})),n.d(c,"ACTION_TYPES",(function(){return Oe}));var o={};n.r(o),n.d(o,"addColumns",(function(){return me})),n.d(o,"setColumns",(function(){return xe})),n.d(o,"addRow",(function(){return Te})),n.d(o,"addRows",(function(){return ge})),n.d(o,"clearTable",(function(){return _e})),n.d(o,"setColumnFilter",(function(){return Ce})),n.d(o,"setRowFilter",(function(){return Le})),n.d(o,"ACTION_TYPES",(function(){return Se}));var i={};n.r(i),n.d(i,"default",(function(){return we}));var s={};n.r(s),n.d(s,"default",(function(){return De}));var u={};n.r(u),n.d(u,"default",(function(){return Ue}));var l=n(0),d=n.n(l),p=n(66),f=n.n(p),b=n(137),h=n(125),O=n(697),k=n(1528),v=n(1522),E="API_ERROR",y="GET_API",j="SET_API",m="SET_BLOCKCHAIN",x="GET_BLOCKCHAIN",T="SET_ENDPOINT",g="GET_ENDPOINT";function _(){return function(e){e({type:y})}}function C(e){return function(t){return function(e){var t=new k.a(e);return v.a.create({provider:t})}(e).then((function(e){t({type:j,payload:e})}),(function(e){t({type:E,payload:e})}))}}var L=function(){return function(e){e({type:x})}},S=function(e){return function(t){t({type:m,payload:e})}},B=function(){return function(e){e({type:g})}},N=function(e){return function(t){t({type:T,payload:e})}},w=function(e){return{type:"TEMP_FILTER",filter:e}},A={API_ERROR:E,GET_API:y,SET_API:j,SET_BLOCKCHAIN:m,GET_BLOCKCHAIN:x,SET_ENDPOINT:T,GET_ENDPOINT:g},D=function(){return function(e){e({type:"GET_PERCENT_LOADED",payload:payload})}},I=function(e){return function(t){t({type:"SET_PERCENT_LOADED",payload:e})}},R={GET_PERCENT_LOADED:"GET_PERCENT_LOADED",SET_PERCENT_LOADED:"SET_PERCENT_LOADED"},F="SET_CURRENCY",P="GET_CURRENCY",H="SET_GENESIS_BLOCK",G="GET_GENESIS_BLOCK",K="SET_CURRENT_BLOCK",U="GET_CURRENT_BLOCK",M="SET_ENDPOINT",Y="GET_ENDPOINT",q="SET_LAST_BLOCK",W="GET_LAST_BLOCK",z="SET_LAST_FINALIZED_BLOCK",V="GET_LAST_FINALIZED_BLOCK",Z="SET_BLOCK_HASH",J="GET_BLOCK_HASH",X="SET_BLOCK_NUMBER",$="GET_BLOCK_NUMBER",Q=function(e){return function(t){t({type:F,payload:e})}},ee=function(e){return function(t){t({type:P,payload:e})}},te=function(e){return function(t){t({type:M,payload:e})}},ne=function(e){return function(t){t({type:Y,payload:e})}},re=function(e){return function(t){t({type:H,payload:e})}},ae=function(e){return function(t){t({type:G,payload:e})}},ce=function(e){return function(t){t({type:K,payload:e})}},oe=function(e){return function(t){t({type:U,payload:e})}},ie=function(e){return function(t){t({type:q,payload:e})}},se=function(e){return function(t){t({type:W,payload:e})}},ue=function(e){return function(t){t({type:z,payload:e})}},le=function(e){return function(t){t({type:V,payload:e})}},de=function(e){return function(t){t({type:Z,payload:e})}},pe=function(e){return function(t){t({type:J,payload:e})}},fe=function(e){return function(t){t({type:X,payload:e})}},be=function(e){return function(t){t({type:$,payload:e})}},he=function(e){return{type:"TEMP_FILTER",filter:e}},Oe={SET_CURRENCY:F,GET_CURRENCY:P,SET_GENESIS_BLOCK:H,GET_GENESIS_BLOCK:G,SET_CURRENT_BLOCK:K,GET_CURRENT_BLOCK:U,SET_ENDPOINT:M,GET_ENDPOINT:Y,SET_LAST_BLOCK:q,GET_LAST_BLOCK:W,SET_LAST_FINALIZED_BLOCK:z,GET_LAST_FINALIZED_BLOCK:V,SET_BLOCK_HASH:Z,GET_BLOCK_HASH:J,SET_BLOCK_NUMBER:X,GET_BLOCK_NUMBER:$},ke="ADD_COLUMN",ve="ADD_ROW",Ee="ADD_ROWS",ye="CLEAR_TABLE",je="SET_COLUMNS",me=function(e){return function(t){t({type:ke,payload:e})}},xe=function(e){return function(t){t({type:je,payload:e})}},Te=function(e){return function(t){t({type:ve,payload:e})}},ge=function(e){return function(t){t({type:Ee,payload:e})}},_e=function(){return function(e){e({type:ye})}},Ce=function(e){return{type:"SET_COLUMN_FILTER",filter:e}},Le=function(e){return{type:"SET_ROW_FILTER",filter:e}},Se={ADD_COLUMNS:ke,ADD_ROW:ve,ADD_ROWS:Ee,CLEAR_TABLE:ye,SET_COLUMNS:je},Be=a.ACTION_TYPES,Ne=(Be.GET_PERCENT_LOADED,Be.SET_PERCENT_LOADED),we={percentLoaded:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{percentLoaded:1},t=arguments.length>1?arguments[1]:void 0;return t.type===Ne?t.payload:e}},Ae=c.ACTION_TYPES,De=(Ae.SET_CURRENCY,Ae.GET_CURRENCY,Ae.SET_GENESIS_BLOCK,Ae.GET_GENESIS_BLOCK,Ae.SET_CURRENT_BLOCK,Ae.GET_CURRENT_BLOCK,Ae.SET_ENDPOINT,Ae.GET_ENDPOINT,Ae.SET_LAST_BLOCK,Ae.GET_LAST_BLOCK,Ae.SET_LAST_FINALIZED_BLOCK,Ae.GET_LAST_FINALIZED_BLOCK,Ae.SET_BLOCK_HASH,Ae.GET_BLOCK_HASH,Ae.SET_BLOCK_NUMBER,Ae.GET_BLOCK_NUMBER,{block:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type,e},currency:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"DOT",t=arguments.length>1?arguments[1]:void 0;return t.type,e},endpoint:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{endpoint:"wss://rpc.polkadot.io"},t=arguments.length>1?arguments[1]:void 0;return t.type,e}}),Ie=n(17),Re=o.ACTION_TYPES,Fe=Re.ADD_COLUMNS,Pe=Re.ADD_ROW,He=Re.ADD_ROWS,Ge=(Re.CLEAR_TABLE,Re.SET_COLUMNS),Ke=0,Ue={columns:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{columns:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fe:return[].concat(Object(Ie.a)(e),Object(Ie.a)(t.payload));case Ge:return t.payload;default:return e}},rows:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{rows:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pe:var n="".concat(++Ke);return t.payload.key=n,[].concat(Object(Ie.a)(e),[t.payload]);case He:return[].concat(Object(Ie.a)(e),[t.payload]);default:return e}}},Me={loadingReducers:i,tableReducers:u,polkadotReducers:s},Ye=function(){Object(h.b)(Me)},qe=r.ACTION_TYPES,We=(qe.API_ERROR,qe.GET_API,qe.SET_API),ze=qe.SET_BLOCKCHAIN,Ve=(qe.GET_BLOCKCHAIN,qe.SET_ENDPOINT),Ze=(qe.GET_ENDPOINT,{api:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type===We?t.payload:e},blockchain:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{blockchain:"Polkadot"},t=arguments.length>1?arguments[1]:void 0;return t.type===ze?t.payload:e},endpoint:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{endpoint:"wss://rpc.polkadot.io"},t=arguments.length>1?arguments[1]:void 0;return t.type===Ve?t.payload:e}}),Je={api:Object(h.b)(Ze),loading:Object(h.b)(we),polkadot:Object(h.b)(De),table:Object(h.b)(Ue)};var Xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(Object(h.b)(Ye),Object(h.c)(Object(h.b)(Je),e,Object(h.a)(O.a)));return t}({loading:{percentLoaded:0},polkadot:{block:{},currency:"DOT",endpoint:"wss://rpc.polkadot.io"},table:{columns:[],rows:[]}});console.log(Xe.getState());var $e=Xe,Qe=(n(776),n(777),n(33)),et=n(21),tt=n.n(et),nt=n(3),rt=n(43),at=n(6),ct=n(10),ot=n(8),it=n(9),st=n(1517),ut=(n(778),n(1525)),lt=n(24),dt=ut.a.Title,pt=function(e){var t=e.className,n=e.style,r=st.a.Header;return Object(lt.jsx)(r,{className:t,style:n,children:Object(lt.jsx)(dt,{style:{margin:"1rem",textAlign:"center"},children:"Kevin Scan"})})},ft=n(1518),bt=n(1526),ht=function(e){Object(ot.a)(n,e);var t=Object(it.a)(n);function n(e){var r;Object(at.a)(this,n);return(r=t.call(this,e)).state={percent:0,status:"active"},r}return Object(ct.a)(n,[{key:"componentDidMount",value:function(){0===this.state.percent&&this.setState({status:"inactive"})}},{key:"componentDidUpdate",value:function(){this.state.percent}},{key:"render",value:function(){var e=this.state,t=e.percent,n=e.status;return Object(lt.jsxs)(ft.a,{children:[Object(lt.jsx)("p",{style:{textAlign:"center"},children:"Loading..."}),Object(lt.jsx)(bt.a,{percent:t,status:n})]})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{percent:e.percent}}}]),n}(l.Component),Ot=Object(b.b)((function(e){return{percentLoaded:e.percentLoaded}}))(ht),kt=n(453),vt=n(293),Et=n(12),yt=n(203),jt=n(1524),mt=n(1519),xt=n(1520),Tt=n(359),gt=n(141),_t=n(1527),Ct=n(154),Lt=n(1529),St=n(1530),Bt=n(1531),Nt=n(1532),wt=n(1533),At=n(1534),Dt=n(719),It=o.addColumns,Rt=o.addRow,Ft=o.addRows,Pt=o.clearTable,Ht=o.setColumns,Gt=a.setPercentLoaded,Kt=c.setCurrency,Ut=c.setGenesisBlock,Mt=function(e){Object(ot.a)(n,e);var t=Object(it.a)(n);function n(e){var r;Object(at.a)(this,n),(r=t.call(this,e)).menu=Object(lt.jsxs)(yt.a,{onClick:function(e){},children:[Object(lt.jsx)(yt.a.Item,{onClick:function(e){console.log(e),r.setState({blockchain:"Avalanche",endpoint:"ws://NEED_URL:9650/ext/bc/C/ws"})},icon:Object(lt.jsx)(Lt.a,{}),children:"Avalanche"},"1"),Object(lt.jsx)(yt.a.Item,{onClick:function(e){console.log(e),r.setState({blockchain:"Binance Smart Chain",endpoint:"wss://bsc-ws-node.nariox.org:443"})},icon:Object(lt.jsx)(St.a,{}),children:"Binance Smart Chain"},"2"),Object(lt.jsx)(yt.a.Item,{onClick:function(e){console.log(e),r.setState({blockchain:"Ethereum",endpoint:"wss://mainnet.infura.io/ws"})},icon:Object(lt.jsx)(Bt.a,{}),children:"Ethereum"},"3"),Object(lt.jsx)(yt.a.Item,{onClick:function(e){console.log(e),r.setState({blockchain:"Polygon",endpoint:"wss://socket.polygon.io/stocks"})},icon:Object(lt.jsx)(Nt.a,{}),children:"Polygon"},"4"),Object(lt.jsx)(yt.a.Item,{onClick:function(e){console.log(e),r.setState({blockchain:"Polkadot",endpoint:"wss://rpc.polkadot.io"})},icon:Object(lt.jsx)(wt.a,{}),children:"Polkadot"},"5"),Object(lt.jsx)(yt.a.Item,{onClick:function(e){console.log(e),r.setState({blockchain:"Solana",endpoint:"wss://api.devnet.solana.com/"})},icon:Object(lt.jsx)(At.a,{}),children:"Solana"},"6")]}),r.inputForm=d.a.createRef();return r.state={api:{},blockchain:"Polkadot",blockDifference:0,endBlock:1,endpoint:"wss://rpc.polkadot.io",lastBlock:0,startBlock:1,subscribe:!0},r.clickListener=r.clickListener.bind(Object(Et.a)(r)),r.subscribeToBlocks=r.subscribeToBlocks.bind(Object(Et.a)(r)),r.unsubscribeToBlocks=r.unsubscribeToBlocks.bind(Object(Et.a)(r)),r.log=r.log.bind(Object(Et.a)(r)),r.misc=r.misc.bind(Object(Et.a)(r)),r}return Object(ct.a)(n,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"dropdownListener",value:function(){var e=Object(rt.a)(tt.a.mark((function e(t){return tt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clickListener",value:function(){var e=Object(rt.a)(tt.a.mark((function e(t){return tt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.api.type){e.next=5;break}return e.next=4,this.buildTableObjects();case 4:e.sent;case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"buildTableObjects",value:function(){var e=Object(rt.a)(tt.a.mark((function e(){var t,n,r,a,c,o,i,s,u=this;return tt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],n=this.inputForm.current,parseInt(n.getFieldValue("endpoint"))||this.state.endpoint,r=parseInt(n.getFieldValue("startBlock"))||0,e.next=6,this.getBlockData(r);case 6:return e.sent,a=parseInt(n.getFieldValue("endBlock"))||0,e.next=10,this.getBlockData(a);case 10:e.sent,o=100/(c=a-r),[],i=tt.a.mark((function e(n){var a,c,i,s,l;return tt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.getHashFromNumber(r+n);case 2:return a=e.sent,e.next=5,u.getEventsFromHash(a);case 5:return c=e.sent,e.next=8,u.parseEventData(c);case 8:(i=e.sent).forEach((function(e,t){u.props.addRow(e)})),s=[],Object.keys(i[0]).forEach((function(e){switch(e){case"arguments":case"key":return;default:s.push({title:"".concat(e.toLocaleUpperCase()),dataIndex:"".concat(e),key:"".concat(e)})}})),t=s,l=Math.round(100*(n*o+Number.EPSILON))/100,u.props.setPercentLoaded(l);case 15:case"end":return e.stop()}}),e)})),s=0;case 16:if(!(s<=c)){e.next=21;break}return e.delegateYield(i(s),"t0",18);case 18:s++,e.next=16;break;case 21:this.props.setColumns(t),this.props.setPercentLoaded(0);case 23:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"parseEventData",value:function(){var e=Object(rt.a)(tt.a.mark((function e(t){var n,r,a,c,o,i,s,u,l,d,p,f,b,h,O,k,v,E,y;return tt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],r=t.createdAtHash,e.next=4,this.getBlockHeaderFromHash(r);case 4:return a=e.sent,e.next=7,this.getBlockNumberFromHash(r);case 7:return c=e.sent,e.next=10,this.getTimeFromHash(r);case 10:e.sent,o={blockNumber:c,events:[]},i=Object(vt.a)(t),e.prev=13,i.s();case 15:if((s=i.n()).done){e.next=29;break}return u=s.value,l=u.get("event"),d=l.data,l.index,p=l.meta,f=l.method,b=l.section,h=u.phase,O=d.toHuman(),k=Object(nt.a)(O,1),v=k[0],d.meta,p.args,p.docs,p.isEmpty,p.name,p.registry,p.Type,E=Object(nt.a)(h.asApplyExtrinsic.words,1),y=E[0],e.next=25,a.author;case 25:e.sent,o.events.push({eventId:"".concat(c,"-").concat(y),event:"".concat(b,".").concat(f),extraData:[v.class,v.paysFee,v.weight]});case 27:e.next=15;break;case 29:e.next=34;break;case 31:e.prev=31,e.t0=e.catch(13),i.e(e.t0);case 34:return e.prev=34,i.f(),e.finish(34);case 37:return n.push(o),t.filter((function(e){e.phase.isApplyExtrinsic})).map((function(e){var t=e.event;return"".concat(t.section,".").concat(t.method)})),console.log(n),e.abrupt("return",n);case 41:case"end":return e.stop()}}),e,this,[[13,31,34,37]])})));return function(t){return e.apply(this,arguments)}}()},{key:"subscribeToBlocks",value:function(){var e=Object(rt.a)(tt.a.mark((function e(){var t,n,r,a,c=this;return tt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.api,n=t.derive,r=t.rpc,e.next=4,r.chain.getBlock();case 4:a=e.sent,a.block.header,n.chain.subscribeNewHeads((function(e){c.state.subscribe&&console.log("Block Number#".concat(e.number,"\tBlock Author: ").concat(e.author))}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getBlockData",value:function(){var e=Object(rt.a)(tt.a.mark((function e(t){var n,r,a,c,o;return tt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.state.api,e.next=3,this.getHashFromNumber(t);case 3:return n=e.sent,e.next=6,this.getBlockFromHash(n);case 6:return r=e.sent,a=r.block,e.next=10,this.getEventsFromHash(n);case 10:return c=e.sent,e.next=13,this.getTimeFromHash(n);case 13:return o=e.sent,null===a||void 0===a?void 0:a.extrincs,e.abrupt("return",{block:a,hash:n,events:c,time:o});case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"unsubscribeToBlocks",value:function(){this.setState({subscribe:!1})}},{key:"printDocumentation",value:function(e){var t=e.docs;console.log("Documentation:\n".concat(t.map((function(e){return e.toString()})).join("\n")))}},{key:"getLastFinalizedBlockNumber",value:function(){var e=Object(rt.a)(tt.a.mark((function e(){var t,n,r;return tt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.api,n=t.derive,t.query,r=n.chain,e.abrupt("return",r.bestNumberFinalized());case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getBlockNumberFromHash",value:function(){var e=Object(rt.a)(tt.a.mark((function e(t){var n,r,a,c;return tt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.state.api).type){e.next=8;break}return r=n.rpc,a=r.chain,e.next=6,a.getBlock(t);case 6:return c=e.sent,e.abrupt("return",parseInt(c.block.header.number.toString()));case 8:return e.abrupt("return",0);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getHashFromNumber",value:function(){var e=Object(rt.a)(tt.a.mark((function e(t){var n,r,a,c;return tt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.state.api).type){e.next=8;break}return r=n.rpc,a=r.chain,e.next=6,a.getBlockHash(t);case 6:return c=e.sent,e.abrupt("return",c);case 8:return e.abrupt("return",0);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getBlockFromHash",value:function(){var e=Object(rt.a)(tt.a.mark((function e(t){var n,r,a,c;return tt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.state.api).type){e.next=9;break}return r=n.rpc,a=r.chain,e.next=6,a.getBlock(t);case 6:return c=e.sent,c.block.extrincs,e.abrupt("return",c);case 9:return e.abrupt("return",0);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getBlockHeaderFromHash",value:function(){var e=Object(rt.a)(tt.a.mark((function e(t){var n,r,a,c;return tt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.state.api).type){e.next=8;break}return r=n.rpc,a=r.chain,e.next=6,a.getHeader(t);case 6:return c=e.sent,e.abrupt("return",c);case 8:return e.abrupt("return",0);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTimeFromHash",value:function(){var e=Object(rt.a)(tt.a.mark((function e(t){var n,r,a,c,o,i,s,u,l,d,p,f,b;return tt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.state,r=n.api,n.lastBlock,n.lastFinalizedBlock,!r.type){e.next=25;break}return r.derive.chain,a=r.rpc.chain,e.next=6,a.getBlock(t);case 6:return c=e.sent,c.block,o=r.query.timestamp,e.next=11,o.didUpdate();case 11:return e.sent,e.next=14,o.now();case 14:return i=e.sent,s=Object(nt.a)(i.words,1),u=s[0],new Date(u),l=new Date,d=l-u,p=u-l,f=l-i.words[0]*i.words[1],b=new Date(d),new Date(p),new Date(f),e.abrupt("return",b);case 25:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getEventsFromHash",value:function(){var e=Object(rt.a)(tt.a.mark((function e(t){var n,r,a,c,o;return tt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.state.api).type){e.next=9;break}return r=n.query,a=r.system,c=a.events,e.next=7,c.at(t);case 7:return o=e.sent,e.abrupt("return",o);case 9:return e.abrupt("return",{});case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"parseEventDataAlt",value:function(){var e=Object(rt.a)(tt.a.mark((function e(t){var n,r,a,c,o,i,s,u,l,d,p,f,b,h,O,k,v,E,y;return tt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.createdAtHash,e.next=3,this.getBlockHeaderFromHash(n);case 3:return r=e.sent,e.next=6,this.getBlockNumberFromHash(n);case 6:return a=e.sent,e.next=9,this.getTimeFromHash(n);case 9:c=e.sent,o={blockNumber:a,children:[],timestamp:c.toISOString()},i=Object(vt.a)(t),e.prev=12,i.s();case 14:if((s=i.n()).done){e.next=28;break}return u=s.value,l=u.get("event"),d=l.data,l.index,p=l.meta,f=l.method,b=l.section,h=u.phase,O=d.toHuman(),k=Object(nt.a)(O,1),k[0],d.meta,v=p.args,p.docs,p.isEmpty,p.name,p.registry,p.Type,E=Object(nt.a)(h.asApplyExtrinsic.words,1),y=E[0],e.next=24,r.author;case 24:e.sent,o.children.push({arguments:v.toHuman(),eventId:"".concat(a,"-").concat(y),event:"".concat(b,".").concat(f)});case 26:e.next=14;break;case 28:e.next=33;break;case 30:e.prev=30,e.t0=e.catch(12),i.e(e.t0);case 33:return e.prev=33,i.f(),e.finish(33);case 36:return t.filter((function(e){e.phase.isApplyExtrinsic})).map((function(e){var t=e.event;return"".concat(t.section,".").concat(t.method)})),e.abrupt("return",[o]);case 38:case"end":return e.stop()}}),e,this,[[12,30,33,36]])})));return function(t){return e.apply(this,arguments)}}()},{key:"log",value:function(e){console.log("props:"),console.log(this.props),console.log("state:"),console.log(this.state)}},{key:"misc",value:function(e){console.log(e),this.props.clearTable()}},{key:"render",value:function(){var e=this.state,t=e.blockchain,n=e.endBlock,r=e.endpoint,a=e.lastBlock,c=e.startBlock,o=(e.subscribe,"horizontal");return Object(lt.jsxs)(jt.a,Object(kt.a)(Object(kt.a)({},{labelCol:{span:8},wrapperCol:{span:14}}),{},{layout:o,initialValues:{layout:o},ref:this.inputForm,children:[Object(lt.jsx)(mt.a,{orientation:"left",children:"Blockchain Info"}),Object(lt.jsxs)(ft.a,{align:"middle",flex:"auto",justify:"center",children:[Object(lt.jsx)(xt.a,{flex:1,children:Object(lt.jsx)(Tt.a.Button,{overlay:this.menu,buttonsRender:function(e){var t=Object(nt.a)(e,2),n=t[0],r=t[1];return[Object(lt.jsx)(gt.a,{title:"Choose a blockchain",children:n},"leftButton"),d.a.cloneElement(r,{icon:Object(lt.jsx)(Dt.a,{}),loading:!1})]},children:t})}),Object(lt.jsx)(xt.a,{flex:2,children:Object(lt.jsx)(jt.a.Item,{label:"Endpoint",name:"endpoint",tooltip:"TEST TOOLTIP",initialValue:r,rules:[{required:!0,message:"Please input the endpoint you would lke to request blockchain data from."}],shouldUpdate:function(e,t){return e!=t},required:!0,children:Object(lt.jsx)(_t.a,{})})})]}),Object(lt.jsx)(mt.a,{orientation:"left",children:"Blocks"}),Object(lt.jsxs)(ft.a,{flex:"auto",justify:"center",children:[Object(lt.jsx)(xt.a,{flex:1,children:Object(lt.jsx)(jt.a.Item,{label:"Start Block",name:"startBlock",tooltip:"TEST TOOLTIP",initialValue:c,rules:[{required:!0,message:"Input the number of the block you would like to start the search at."}],shouldUpdate:function(e,t){return e!=t},required:!0,children:Object(lt.jsx)(_t.a,{})})}),Object(lt.jsx)(xt.a,{flex:1,children:Object(lt.jsx)(jt.a.Item,{label:"End Block",name:"endBlock",tooltip:"TEST TOOLTIP",rules:[{required:!0,message:"Input the number of the block you would like to finish the search at."}],shouldUpdate:function(e,t){return e!=t},required:!0,children:Object(lt.jsx)(_t.a,{placeholder:n?a:n})})})]}),Object(lt.jsx)(mt.a,{orientation:"left",children:"Actions"}),Object(lt.jsxs)(ft.a,{flex:"auto",guter:10,justify:"center",children:[Object(lt.jsx)(xt.a,{flex:2,children:Object(lt.jsx)(Ct.a,{className:"scan_button",type:"primary",onClick:this.clickListener,block:!0,children:"Scan"})}),Object(lt.jsx)(xt.a,{flex:1,children:Object(lt.jsx)(Ct.a,{type:"default",onClick:this.subscribeToBlocks,block:!0,children:"Subscribe"})}),Object(lt.jsx)(xt.a,{flex:1,children:Object(lt.jsx)(Ct.a,{type:"default",onClick:this.unsubscribeToBlocks,span:1,block:!0,children:"Unsubscribe"})})]}),Object(lt.jsx)(mt.a,{orientation:"left",children:"Debugging Buttons"}),Object(lt.jsxs)(ft.a,{flex:"auto",guter:10,justify:"center",children:[Object(lt.jsx)(xt.a,{flex:1,children:Object(lt.jsx)(Ct.a,{type:"default",onClick:this.log,span:1,block:!0,children:"LOG"})}),Object(lt.jsx)(xt.a,{flex:1,children:Object(lt.jsx)(Ct.a,{type:"default",onClick:this.misc,span:1,block:!0,children:"MISC"})})]})]}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e}}]),n}(l.Component),Yt=Object(b.b)((function(e){var t=e.api,n=t.api,r=(t.blockchain,e.loading.percentLoaded,e.polkadot),a=(r.block,r.currency,r.endpoint,e.table);return{api:n,columns:a.columns,rows:a.rows}}),(function(e){return{addColumns:function(t){e(It(t))},addRow:function(t){e(Rt(t))},addRows:function(t){e(Ft(t))},clearTable:function(){e(Pt())},setColumns:function(t){e(Ht(t))},setCurrency:function(t){e(Kt(t))},setGenesisBlock:function(t){e(Ut(t))},setPercentLoaded:function(t){e(Gt(t))}}}))(Mt),qt=n(1523),Wt=n(1535),zt=n(1536),Vt=function(e){Object(ot.a)(n,e);var t=Object(it.a)(n);function n(e){var r;Object(at.a)(this,n),(r=t.call(this,e)).createFilters=function(e){var t=r.state.rows;e.map((function(e){var n,r=Object(vt.a)(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;switch(e.key){case"blockNumber":e.sorter=function(e,t){return e},e.sortDirections=["ascend","descend"];case"event":var c="".concat(a.event);e.filters=[{text:c,value:c}],e.onFilter=function(){console.log(item)};default:e.render=function(e){return e}}return e}}catch(o){r.e(o)}finally{r.f()}}))},r.populateEventFilter=function(e){e.forEach((function(e){"events"==e.key&&(e.filters=[{text:"system.ExtrinsicSuccess",value:"system.ExtrinsicSuccess"}],e.onFilter=function(e,t){return t.event==e})}))};return r.state={columns:[],loading:!1,percentLoaded:0,rows:[]},r.populateTable=r.populateTable.bind(Object(Et.a)(r)),r.createFilters=r.createFilters.bind(Object(Et.a)(r)),r.populateEventFilter=r.populateEventFilter.bind(Object(Et.a)(r)),r}return Object(ct.a)(n,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){var e=this.state;e.loading,e.percentLoaded}},{key:"populateTable",value:function(){var e=this.state,t=e.loading,n=(e.percentLoaded,e.rows),r=[{title:"EVENT ID",dataIndex:"eventId",key:"eventId"},{title:"EVENT",dataIndex:"event",key:"event"},{title:"EXTRA DATA",dataIndex:"extraData",key:"extraData",render:function(e,t,n){var r=t.extraData.map((function(e){return Object(lt.jsx)("li",{children:e})}));return Object(lt.jsx)("ul",{children:r})}}];return this.populateEventFilter(r),Object(lt.jsx)(qt.a,{columns:[{title:"BLOCK NUMBER",dataIndex:"blockNumber",key:"blockNumber",sorter:function(e,t){return e.blockNumber-t.blockNumber},sortDirections:["ascend","descend"]}],dataSource:n,expandable:{childrenColumnName:"children",expandedRowRender:function(e,t){return Object(lt.jsx)(qt.a,{columns:r,dataSource:e.events,pagination:!1},t)},expandIcon:function(e){var t=e.expanded,n=e.onExpand,r=e.record;return t?Object(lt.jsx)(Wt.a,{onClick:function(e){return n(r,e)}}):Object(lt.jsx)(zt.a,{onClick:function(e){return n(r,e)}})},expandRowByClick:!0,rowExpandable:function(e){return!!e.events}},loading:{spinning:t},pagination:!0,title:function(){return"Blockchain Data"}})}},{key:"render",value:function(){return this.populateTable()}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{columns:e.columns,loading:e.loading,percentLoaded:e.percentLoaded,rows:e.rows}}}]),n}(l.Component),Zt=Object(b.b)((function(e){var t=e.loading,n=(e.polkadot,e.table),r=t.percentLoaded;return{columns:n.columns,loading:r>0,percentLoaded:r,rows:n.rows}}))(Vt),Jt=function(e){var t=e.style,n=st.a.Footer,r=(new Date).getFullYear();return Object(lt.jsxs)(n,{style:t,children:["Decentralized Application \xa9",r," Created by Kevin Loy"]})},Xt=(n(853),r.getApi),$t=r.setApi,Qt=r.getEndpoint,en=st.a.Content,tn=function(e){Object(ot.a)(n,e);var t=Object(it.a)(n);function n(e){var r;Object(at.a)(this,n),r=t.call(this,e);var a=e.api,c=e.endpoint,o=e.loading,i=e.percentLoaded;return r.state={api:a,endpoint:c,loading:o,percentLoaded:i},r}return Object(ct.a)(n,[{key:"componentDidMount",value:function(){this.props.setApi("wss://rpc.polkadot.io");var e=this.state.api;if(e.type){e.query.system;this.setState({loading:!1,percentLoaded:0})}}},{key:"componentDidUpdate",value:function(){}},{key:"debug",value:function(){var e=Object(rt.a)(tt.a.mark((function e(t){var n,r,a,c,o,i,s,u,l,d,p;return tt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.state.api,n.derive,n.query,r=n.rpc,e.next=4,n.registry.getChainProperties();case 4:return e.sent,e.next=7,n.query.system.number();case 7:return a=e.sent,e.next=10,r.system.chain.raw();case 10:return e.sent,c=Object(nt.a)(a.words,1),o=c[0],e.next=14,this.getHashFromNumber(o);case 14:return i=e.sent,e.next=17,r.chain.getHeader();case 17:return e.sent,e.next=20,r.chain.getFinalizedHead();case 20:return e.sent,e.next=23,r.chain.getBlock(i);case 23:return s=e.sent,e.next=26,s.block.header;case 26:return u=e.sent,e.next=29,this.getEventsFromHash(s.block.header.hash);case 29:return l=e.sent,e.next=32,this.parseEventData(l);case 32:return d=e.sent,e.next=35,u.digest;case 35:return p=e.sent,e.next=38,p.logs;case 38:return e.sent,e.next=41,n.runtimeMetadata.magicNumber;case 41:return e.sent,e.next=44,s.block.extrinsics.forEach((function(e,t){var n=e.isSigned,r=(e.meta,e.method),a=r.args,c=r.method,o=r.section;console.log("".concat(o,".").concat(c,":: ").concat(d||"no events")),console.log("Function:\n".concat(o,".").concat(c,"(").concat(a.map((function(e){return e.toString()})).join(", "),")")),n&&console.log("signer=".concat(e.signer.toString(),", nonce=").concat(e.nonce.toString()))}));case 44:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.loading,n=e.percentLoaded;return Object(lt.jsx)(st.a,{style:{minHeight:"100vh"},children:Object(lt.jsxs)(st.a,{className:"site-layout",children:[Object(lt.jsx)(pt,{className:"site-layout-background"}),Object(lt.jsx)(en,{style:{margin:"0 1rem"},children:t?Object(lt.jsx)(Ot,{percent:n,status:"active"}):Object(lt.jsxs)("div",{className:"site-layout-background",style:{padding:24,minHeight:360},children:[Object(lt.jsx)(Yt,{}),Object(lt.jsx)(Zt,{})]})}),Object(lt.jsx)(Jt,{style:{textAlign:"center"}})]})})}}]),n}(l.Component),nn=Object(b.b)((function(e){var t,n=e.api,r=n.api,a=n.blockchain,c=e.loading.percentLoaded,o=e.polkadot,i=o.block,s=o.currency,u=o.endpoint,l=e.table;return t={api:r,blockchain:a,block:i,currency:s,endpoint:u,loading:c>0,columns:l.columns,rows:l.rows},Object(Qe.a)(t,"endpoint",u),Object(Qe.a)(t,"percentLoaded",c),t}),(function(e){return{getApi:function(){e(Xt())},setApi:function(t){e($t(t))},getEndpoint:function(){e(Qt())}}}))(tn);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));f.a.render(Object(lt.jsx)(d.a.StrictMode,{children:Object(lt.jsx)(b.a,{store:$e,children:Object(lt.jsx)(nn,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},748:function(e,t){},754:function(e,t){},777:function(e,t,n){},778:function(e,t,n){}},[[1497,1,2]]]);
//# sourceMappingURL=main.20096e32.chunk.js.map