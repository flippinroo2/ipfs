(this.webpackJsonpacala_assignment=this.webpackJsonpacala_assignment||[]).push([[0],{1133:function(e,t){},1135:function(e,t){},1205:function(e,t){},1207:function(e,t){},1244:function(e,t){},1246:function(e,t){},1253:function(e,t){},1254:function(e,t){},1277:function(e,t){},1285:function(e,t){},1287:function(e,t){},1301:function(e,t){},1362:function(e,t){},1516:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(75),o=n.n(c),i=(n(749),n(6)),s=n(11),u=n(9),l=n(10),d=n(1534),p=(n(750),n(1547)),h=n(29),b=p.a.Title,f=function(e){var t=e.className,n=e.style,a=d.a.Header;return Object(h.jsx)(a,{className:t,style:n,children:Object(h.jsx)(b,{style:{margin:"1rem",textAlign:"center"},children:"Kevin Scan"})})},k=n(1535),j=n(1548),v=(a.Component,n(465)),m=n(367),x=n(3),O=n(8),g=n.n(O),y=n(18),w=n(13),B=n(1550),F=n(1544),L=n(215),S=n(1546),T=n(1541),E=n(1542),H=n(375),I=n(149),D=n(1549),C=n(165),N=n(1551),P=n(1552),A=n(1553),q=n(1554),z=n(1555),U=n(1556),V=n(724),M=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var a;Object(i.a)(this,n),(a=t.call(this,e)).menu=Object(h.jsxs)(L.a,{onClick:function(e){},children:[Object(h.jsx)(L.a.Item,{onClick:function(e){console.log(e),a.setState({blockchain:"Avalanche",endpoint:"ws://NEED_URL:9650/ext/bc/C/ws"})},icon:Object(h.jsx)(N.a,{}),children:"Avalanche"},"1"),Object(h.jsx)(L.a.Item,{onClick:function(e){console.log(e),a.setState({blockchain:"Binance Smart Chain",endpoint:"wss://bsc-ws-node.nariox.org:443"})},icon:Object(h.jsx)(P.a,{}),children:"Binance Smart Chain"},"2"),Object(h.jsx)(L.a.Item,{onClick:function(e){console.log(e),a.setState({blockchain:"Ethereum",endpoint:"wss://mainnet.infura.io/ws"})},icon:Object(h.jsx)(A.a,{}),children:"Ethereum"},"3"),Object(h.jsx)(L.a.Item,{onClick:function(e){console.log(e),a.setState({blockchain:"Polygon",endpoint:"wss://socket.polygon.io/stocks"})},icon:Object(h.jsx)(q.a,{}),children:"Polygon"},"4"),Object(h.jsx)(L.a.Item,{onClick:function(e){console.log(e),a.setState({blockchain:"Polkadot",endpoint:"wss://rpc.polkadot.io"})},icon:Object(h.jsx)(z.a,{}),children:"Polkadot"},"5"),Object(h.jsx)(L.a.Item,{onClick:function(e){console.log(e),a.setState({blockchain:"Solana",endpoint:"wss://api.devnet.solana.com/"})},icon:Object(h.jsx)(U.a,{}),children:"Solana"},"6")]}),a.inputForm=r.a.createRef();return a.state={api:{},blockchain:"Polkadot",blockDifference:0,endBlock:1,endpoint:"wss://rpc.polkadot.io",events:{},lastBlock:0,percentLoaded:0,startBlock:1,subscribe:!0,transactions:[]},a.initializeProvider=a.initializeProvider.bind(Object(w.a)(a)),a.clickListener=a.clickListener.bind(Object(w.a)(a)),a.subscribeToBlocks=a.subscribeToBlocks.bind(Object(w.a)(a)),a.unsubscribeToBlocks=a.unsubscribeToBlocks.bind(Object(w.a)(a)),a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.initializeProvider().then(Object(y.a)(g.a.mark((function t(){var n,a,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state.api,a=n.query,a.system,t.next=5,e.getLastFinalizedBlockNumber();case 5:r=t.sent,e.setState({lastBlock:r.words[0]});case 7:case"end":return t.stop()}}),t)}))))}},{key:"componentDidUpdate",value:function(){}},{key:"initializeProvider",value:function(){var e=Object(y.a)(g.a.mark((function e(){var t,n,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.endpoint,n=new B.a(t),e.next=4,F.a.create({provider:n});case 4:a=e.sent,this.setState({api:a});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dropdownListener",value:function(){var e=Object(y.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clickListener",value:function(){var e=Object(y.a)(g.a.mark((function e(t){var n,a,r,c,o,i,s,u,l,d,p,h,b=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.state.api,this.props.dataLoading({loading:!0}),a=[],r=[],!n.type){e.next=25;break}return c=this.state,o=c.endBlock,i=c.endpoint,s=c.startBlock,u=this.inputForm.current,s=parseInt(u.getFieldValue("startBlock"))||s,o=parseInt(u.getFieldValue("endBlock"))||o,i=parseInt(u.getFieldValue("endpoint"))||i,l=o-s,e.next=13,this.getBlockData(o);case 13:return e.sent,e.next=16,this.getBlockData(s);case 16:e.sent,d=100/l,p=g.a.mark((function e(t){var n,c,o,i,u,l,p;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Math.round(100*(t*d+Number.EPSILON))/100,b.props.dataLoading({loading:!0,percentLoaded:n}),e.next=4,b.getHashFromNumber(s+t);case 4:return c=e.sent,e.next=7,b.getEventsFromHash(c);case 7:return o=e.sent,e.next=10,b.parseEventData(o);case 10:i=e.sent,u=Object(x.a)(i,1),l=u[0],p=[],Object.keys(l).forEach((function(e){p.push({title:"".concat(e.toLocaleUpperCase()),dataIndex:"".concat(e),key:"".concat(e)})})),i.forEach((function(e,n){e.key="".concat(t+e.blockNumber+n),r.push(e)})),a=p;case 16:case"end":return e.stop()}}),e)})),h=0;case 20:if(!(h<=l)){e.next=25;break}return e.delegateYield(p(h),"t0",22);case 22:h++,e.next=20;break;case 25:this.props.dataLoaded({loading:!1,percentLoaded:0},{columns:a,data:r});case 26:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"subscribeToBlocks",value:function(){var e=Object(y.a)(g.a.mark((function e(){var t,n,a,r,c=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.api,n=t.derive,a=t.rpc,e.next=4,a.chain.getBlock();case 4:r=e.sent,r.block.header,n.chain.subscribeNewHeads((function(e){c.state.subscribe&&console.log("Block Number#".concat(e.number,"\tBlock Author: ").concat(e.author))}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getBlockData",value:function(){var e=Object(y.a)(g.a.mark((function e(t){var n,a,r,c,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.state.api,e.next=3,this.getHashFromNumber(t);case 3:return n=e.sent,e.next=6,this.getBlockFromHash(n);case 6:return a=e.sent,r=a.block,e.next=10,this.getEventsFromHash(n);case 10:return c=e.sent,e.next=13,this.getTimeFromHash(n);case 13:return o=e.sent,null===r||void 0===r?void 0:r.extrincs,e.abrupt("return",{block:r,hash:n,events:c,time:o});case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"unsubscribeToBlocks",value:function(){this.setState({subscribe:!1})}},{key:"printDocumentation",value:function(e){var t=e.docs;console.log("Documentation:\n".concat(t.map((function(e){return e.toString()})).join("\n")))}},{key:"getLastFinalizedBlockNumber",value:function(){var e=Object(y.a)(g.a.mark((function e(){var t,n,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.api,n=t.derive,t.query,a=n.chain,e.abrupt("return",a.bestNumberFinalized());case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getBlockNumberFromHash",value:function(){var e=Object(y.a)(g.a.mark((function e(t){var n,a,r,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.state.api).type){e.next=8;break}return a=n.rpc,r=a.chain,e.next=6,r.getBlock(t);case 6:return c=e.sent,e.abrupt("return",parseInt(c.block.header.number.toString()));case 8:return e.abrupt("return",0);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getHashFromNumber",value:function(){var e=Object(y.a)(g.a.mark((function e(t){var n,a,r,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.state.api).type){e.next=8;break}return a=n.rpc,r=a.chain,e.next=6,r.getBlockHash(t);case 6:return c=e.sent,e.abrupt("return",c);case 8:return e.abrupt("return",0);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getBlockFromHash",value:function(){var e=Object(y.a)(g.a.mark((function e(t){var n,a,r,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.state.api).type){e.next=9;break}return a=n.rpc,r=a.chain,e.next=6,r.getBlock(t);case 6:return c=e.sent,c.block.extrincs,e.abrupt("return",c);case 9:return e.abrupt("return",0);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getBlockHeaderFromHash",value:function(){var e=Object(y.a)(g.a.mark((function e(t){var n,a,r,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.state.api).type){e.next=8;break}return a=n.rpc,r=a.chain,e.next=6,r.getHeader(t);case 6:return c=e.sent,e.abrupt("return",c);case 8:return e.abrupt("return",0);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTimeFromHash",value:function(){var e=Object(y.a)(g.a.mark((function e(t){var n,a,r,c,o,i,s,u,l,d,p,h,b;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.state,a=n.api,n.lastBlock,n.lastFinalizedBlock,!a.type){e.next=25;break}return a.derive.chain,r=a.rpc.chain,e.next=6,r.getBlock(t);case 6:return c=e.sent,c.block,o=a.query.timestamp,e.next=11,o.didUpdate();case 11:return e.sent,e.next=14,o.now();case 14:return i=e.sent,s=Object(x.a)(i.words,1),u=s[0],new Date(u),l=new Date,d=l-u,p=u-l,h=l-i.words[0]*i.words[1],b=new Date(d),new Date(p),new Date(h),e.abrupt("return",b);case 25:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getEventsFromHash",value:function(){var e=Object(y.a)(g.a.mark((function e(t){var n,a,r,c,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.state.api).type){e.next=9;break}return a=n.query,r=a.system,c=r.events,e.next=7,c.at(t);case 7:return o=e.sent,e.abrupt("return",o);case 9:return e.abrupt("return",{});case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"parseEventData",value:function(){var e=Object(y.a)(g.a.mark((function e(t){var n,a,r,c,o,i,s,u,l,d,p,h,b,f,k,j,v,O,y,w;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],a=t.createdAtHash,e.next=4,this.getBlockHeaderFromHash(a);case 4:return r=e.sent,e.next=7,this.getBlockNumberFromHash(a);case 7:return c=e.sent,e.next=10,this.getTimeFromHash(a);case 10:o=e.sent,i={blockNumber:c,timestamp:o.toISOString()},s=Object(m.a)(t),e.prev=13,s.s();case 15:if((u=s.n()).done){e.next=30;break}return l=u.value,d=l.get("event"),p=d.data,d.index,h=d.meta,b=d.method,f=d.section,k=l.phase,j=p.toHuman(),v=Object(x.a)(j,1),v[0],p.meta,O=h.args,h.docs,h.isEmpty,h.name,h.registry,h.Type,y=Object(x.a)(k.asApplyExtrinsic.words,1),w=y[0],e.next=25,r.author;case 25:e.sent,i.children=[{arguments:O.toHuman(),blockAuthor:r.author,eventId:"".concat(c,"-").concat(w),event:"".concat(f,".").concat(b)}],n.push(i);case 28:e.next=15;break;case 30:e.next=35;break;case 32:e.prev=32,e.t0=e.catch(13),s.e(e.t0);case 35:return e.prev=35,s.f(),e.finish(35);case 38:return t.filter((function(e){e.phase.isApplyExtrinsic})).map((function(e){var t=e.event;return"".concat(t.section,".").concat(t.method)})),e.abrupt("return",n);case 40:case"end":return e.stop()}}),e,this,[[13,32,35,38]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.blockchain,n=e.endBlock,a=e.endpoint,c=e.lastBlock,o=e.startBlock,i=(e.subscribe,"horizontal");return Object(h.jsxs)(S.a,Object(v.a)(Object(v.a)({},{labelCol:{span:4},wrapperCol:{span:14}}),{},{layout:i,initialValues:{layout:i},ref:this.inputForm,children:[Object(h.jsx)(T.a,{orientation:"left",children:"Blockchain Info"}),Object(h.jsxs)(k.a,{align:"middle",flex:"auto",justify:"center",children:[Object(h.jsx)(E.a,{flex:1,children:Object(h.jsx)(H.a.Button,{overlay:this.menu,buttonsRender:function(e){var t=Object(x.a)(e,2),n=t[0],a=t[1];return[Object(h.jsx)(I.a,{title:"Choose a blockchain",children:n},"leftButton"),r.a.cloneElement(a,{icon:Object(h.jsx)(V.a,{}),loading:!1})]},children:t})}),Object(h.jsx)(E.a,{flex:2,children:Object(h.jsx)(S.a.Item,{label:"Endpoint",name:"endpoint",tooltip:"TEST TOOLTIP",initialValue:a,rules:[{required:!0,message:"Please input the endpoint you would lke to request blockchain data from."}],shouldUpdate:function(e,t){return e!=t},required:!0,children:Object(h.jsx)(D.a,{})})})]}),Object(h.jsx)(T.a,{orientation:"left",children:"Blocks"}),Object(h.jsxs)(k.a,{flex:"auto",justify:"center",children:[Object(h.jsx)(E.a,{flex:1,children:Object(h.jsx)(S.a.Item,{label:"Start Block",name:"startBlock",tooltip:"TEST TOOLTIP",initialValue:o,rules:[{required:!0,message:"Input the number of the block you would like to start the search at."}],shouldUpdate:function(e,t){return e!=t},required:!0,children:Object(h.jsx)(D.a,{})})}),Object(h.jsx)(E.a,{flex:1,children:Object(h.jsx)(S.a.Item,{label:"End Block",name:"endBlock",tooltip:"TEST TOOLTIP",rules:[{required:!0,message:"Input the number of the block you would like to finish the search at."}],shouldUpdate:function(e,t){return e!=t},required:!0,children:Object(h.jsx)(D.a,{placeholder:n?c:n})})})]}),Object(h.jsx)(T.a,{orientation:"left",children:"Actions"}),Object(h.jsxs)(k.a,{flex:"auto",guter:10,justify:"center",children:[Object(h.jsx)(E.a,{flex:2,children:Object(h.jsx)(C.a,{type:"primary",onClick:this.clickListener,block:!0,children:"Scan"})}),Object(h.jsx)(E.a,{flex:1,children:Object(h.jsx)(C.a,{type:"default",onClick:this.subscribeToBlocks,block:!0,children:"Subscribe"})}),Object(h.jsx)(E.a,{flex:1,children:Object(h.jsx)(C.a,{type:"default",onClick:this.unsubscribeToBlocks,span:1,block:!0,children:"Unsubscribe"})})]})]}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{}}}]),n}(a.Component),R=M,K=n(1545),_=n(1557),J=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var a;Object(i.a)(this,n),(a=t.call(this,e)).createFilters=function(){var e=a.state,t=e.columns,n=e.data;t.map((function(e){var t,a=Object(m.a)(n);try{var r=function(){var n=t.value;switch(e.key){case"blockNumber":e.sorter=function(e,t){return console.log("TEST"),1},e.sortDirections=["ascend","descend"];case"event":var a="".concat(n.event);e.filters=[{text:a,value:a}],e.onFilter=function(){console.log(n)};default:e.render=function(e){return e}}return{v:e}};for(a.s();!(t=a.n()).done;){var c=r();if("object"===typeof c)return c.v}}catch(o){a.e(o)}finally{a.f()}}))},a.populateEventFilter=function(e){var t=e.text,n=e.value,a=e.children,r={text:t,value:n};return console.log("BREAK"),a&&a.forEach((function(e,t){e.text;var n=e.value;r.children=[{item:e,value:n}]})),[r]};return a.state={columns:[],data:[],loading:!1},a.createFilters=a.createFilters.bind(Object(w.a)(a)),a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.createFilters()}},{key:"render",value:function(){var e=this.state,t=e.columns,n=e.data,a=e.loading;return Object(h.jsx)(K.a,{columns:t,dataSource:n,expandable:function(){return{expandIcon:_.a}},loading:{indicator:_.a,spinning:a},pagination:!0,ref:this.table,scroll:{x:!1,y:!1},title:function(){return"Data"}})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{columns:e.columns,data:e.data,loading:e.loading}}}]),n}(a.Component),W=function(e){var t=e.style,n=d.a.Footer,a=(new Date).getFullYear();return Object(h.jsxs)(n,{style:t,children:["Decentralized Application \xa9",a," Created by Kevin Loy"]})},Y=(n(854),d.a.Content),$=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var a;Object(i.a)(this,n),(a=t.call(this,e)).dataLoading=function(e){var t=e.loading,n=e.percentLoaded;a.setState({loading:t,percentLoaded:n})},a.dataLoaded=function(e,t){var n=e.loading,r=e.percentLoaded;a.setState({events:t,loading:n,percentLoaded:r})};return a.state={api:{},events:{columns:[],data:[]},loading:!0,percentLoaded:50},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.setState({loading:!1,percentLoaded:0})}},{key:"render",value:function(){var e=this.state,t=e.events,n=e.loading,a=(e.percentLoaded,t.columns),r=t.data;return Object(h.jsx)(d.a,{style:{minHeight:"100vh"},children:Object(h.jsxs)(d.a,{className:"site-layout",children:[Object(h.jsx)(f,{className:"site-layout-background"}),Object(h.jsx)(Y,{style:{margin:"0 1rem"},children:Object(h.jsxs)("div",{className:"site-layout-background",style:{padding:24,minHeight:360},children:[Object(h.jsx)(R,{dataLoading:this.dataLoading,dataLoaded:this.dataLoaded}),Object(h.jsx)(J,{columns:a,data:r,loading:n})]})}),Object(h.jsx)(W,{style:{textAlign:"center"}})]})})}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(1514);o.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)($,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},749:function(e,t,n){},750:function(e,t,n){},819:function(e,t){},827:function(e,t){}},[[1516,1,2]]]);
//# sourceMappingURL=main.db51bbe4.chunk.js.map