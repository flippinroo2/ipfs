(this.webpackJsonpacala_assignment=this.webpackJsonpacala_assignment||[]).push([[0],{261:function(e,t){},271:function(e,t){},295:function(e,t,n){},296:function(e,t,n){},371:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"getApi",(function(){return g})),n.d(r,"setApi",(function(){return x})),n.d(r,"getBlockchain",(function(){return T})),n.d(r,"setBlockchain",(function(){return _})),n.d(r,"getEndpoint",(function(){return B})),n.d(r,"setEndpoint",(function(){return L})),n.d(r,"tempFilter",(function(){return C})),n.d(r,"ACTION_TYPES",(function(){return S}));var a={};n.r(a),n.d(a,"getPercentLoaded",(function(){return A})),n.d(a,"setPercentLoaded",(function(){return D})),n.d(a,"setLoading",(function(){return w})),n.d(a,"setLoaded",(function(){return R})),n.d(a,"ACTION_TYPES",(function(){return I}));var c={};n.r(c),n.d(c,"setCurrency",(function(){return Q})),n.d(c,"getCurrency",(function(){return ee})),n.d(c,"getEndpoint",(function(){return te})),n.d(c,"setEndpoint",(function(){return ne})),n.d(c,"setGenesisBlock",(function(){return re})),n.d(c,"getGenesisBlock",(function(){return ae})),n.d(c,"setCurrentBlock",(function(){return ce})),n.d(c,"getCurrentBlock",(function(){return oe})),n.d(c,"setLastBlock",(function(){return ie})),n.d(c,"getLastBlock",(function(){return se})),n.d(c,"setLastFinalizedBlock",(function(){return ue})),n.d(c,"getLastFinalizedBlock",(function(){return le})),n.d(c,"setBlockHash",(function(){return de})),n.d(c,"getBlockHash",(function(){return pe})),n.d(c,"setBlockNumber",(function(){return fe})),n.d(c,"getBlockNumber",(function(){return be})),n.d(c,"tempFilter",(function(){return he})),n.d(c,"ACTION_TYPES",(function(){return ke}));var o={};n.r(o),n.d(o,"addColumns",(function(){return ye})),n.d(o,"setColumns",(function(){return ge})),n.d(o,"addRow",(function(){return xe})),n.d(o,"addRows",(function(){return Te})),n.d(o,"clearTable",(function(){return _e})),n.d(o,"setColumnFilter",(function(){return Be})),n.d(o,"setRowFilter",(function(){return Le})),n.d(o,"ACTION_TYPES",(function(){return Ce}));var i=n(0),s=n.n(i),u=n(40),l=n.n(u),d=n(66),p=n(76),f=n(210),b=n(400),h=n(393),k="API_ERROR",O="GET_API",E="SET_API",j="SET_BLOCKCHAIN",v="GET_BLOCKCHAIN",m="SET_ENDPOINT",y="GET_ENDPOINT";function g(){return function(e){e({type:O})}}function x(e){return function(t){return function(e){var t=new b.a(e);return h.a.create({provider:t})}(e).then((function(e){t({type:E,payload:e})}),(function(e){t({type:k,payload:e})}))}}var T=function(){return function(e){e({type:v})}},_=function(e){return function(t){t({type:j,payload:e})}},B=function(){return function(e){e({type:y})}},L=function(e){return function(t){t({type:m,payload:e})}},C=function(e){return{type:"TEMP_FILTER",filter:e}},S={API_ERROR:k,GET_API:O,SET_API:E,SET_BLOCKCHAIN:j,GET_BLOCKCHAIN:v,SET_ENDPOINT:m,GET_ENDPOINT:y},N="LOADING",A=function(){return function(e){e({type:"GET_PERCENT_LOADED",payload:payload})}},D=function(e){return function(t){t({type:"SET_PERCENT_LOADED",payload:e})}},w=function(){return function(e){e({type:N,payload:!0})}},R=function(){return function(e){e({type:N,payload:!1})}},I={GET_PERCENT_LOADED:"GET_PERCENT_LOADED",SET_PERCENT_LOADED:"SET_PERCENT_LOADED",LOADING:"LOADING"},F="SET_CURRENCY",P="GET_CURRENCY",G="SET_GENESIS_BLOCK",H="GET_GENESIS_BLOCK",K="SET_CURRENT_BLOCK",U="GET_CURRENT_BLOCK",M="SET_ENDPOINT",Y="GET_ENDPOINT",z="SET_LAST_BLOCK",V="GET_LAST_BLOCK",q="SET_LAST_FINALIZED_BLOCK",W="GET_LAST_FINALIZED_BLOCK",Z="SET_BLOCK_HASH",X="GET_BLOCK_HASH",J="SET_BLOCK_NUMBER",$="GET_BLOCK_NUMBER",Q=function(e){return function(t){t({type:F,payload:e})}},ee=function(e){return function(t){t({type:P,payload:e})}},te=function(e){return function(t){t({type:M,payload:e})}},ne=function(e){return function(t){t({type:Y,payload:e})}},re=function(e){return function(t){t({type:G,payload:e})}},ae=function(e){return function(t){t({type:H,payload:e})}},ce=function(e){return function(t){t({type:K,payload:e})}},oe=function(e){return function(t){t({type:U,payload:e})}},ie=function(e){return function(t){t({type:z,payload:e})}},se=function(e){return function(t){t({type:V,payload:e})}},ue=function(e){return function(t){t({type:q,payload:e})}},le=function(e){return function(t){t({type:W,payload:e})}},de=function(e){return function(t){t({type:Z,payload:e})}},pe=function(e){return function(t){t({type:X,payload:e})}},fe=function(e){return function(t){t({type:J,payload:e})}},be=function(e){return function(t){t({type:$,payload:e})}},he=function(e){return{type:"TEMP_FILTER",filter:e}},ke={SET_CURRENCY:F,GET_CURRENCY:P,SET_GENESIS_BLOCK:G,GET_GENESIS_BLOCK:H,SET_CURRENT_BLOCK:K,GET_CURRENT_BLOCK:U,SET_ENDPOINT:M,GET_ENDPOINT:Y,SET_LAST_BLOCK:z,GET_LAST_BLOCK:V,SET_LAST_FINALIZED_BLOCK:q,GET_LAST_FINALIZED_BLOCK:W,SET_BLOCK_HASH:Z,GET_BLOCK_HASH:X,SET_BLOCK_NUMBER:J,GET_BLOCK_NUMBER:$},Oe="ADD_COLUMN",Ee="ADD_ROW",je="ADD_ROWS",ve="CLEAR_TABLE",me="SET_COLUMNS",ye=function(e){return function(t){t({type:Oe,payload:e})}},ge=function(e){return function(t){t({type:me,payload:e})}},xe=function(e){return function(t){t({type:Ee,payload:e})}},Te=function(e){return function(t){t({type:je,payload:e})}},_e=function(){return function(e){e({type:ve})}},Be=function(e){return{type:"SET_COLUMN_FILTER",filter:e}},Le=function(e){return{type:"SET_ROW_FILTER",filter:e}},Ce={ADD_COLUMNS:Oe,ADD_ROW:Ee,ADD_ROWS:je,CLEAR_TABLE:ve,SET_COLUMNS:me},Se=r.ACTION_TYPES,Ne=(Se.API_ERROR,Se.GET_API,Se.SET_API),Ae=Se.SET_BLOCKCHAIN,De=(Se.GET_BLOCKCHAIN,Se.SET_ENDPOINT),we=(Se.GET_ENDPOINT,{api:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type===Ne?t.payload:e},blockchain:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Polkadot",t=arguments.length>1?arguments[1]:void 0;return t.type===Ae?t.payload:e},endpoint:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"wss://rpc.polkadot.io",t=arguments.length>1?arguments[1]:void 0;return t.type===De?t.payload:e}}),Re=a.ACTION_TYPES,Ie=(Re.GET_PERCENT_LOADED,Re.LOADING),Fe=Re.SET_PERCENT_LOADED,Pe={loading:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;return t.type===Ie?t.payload:e},percentLoaded:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:25,t=arguments.length>1?arguments[1]:void 0;return t.type===Fe?t.payload:e}},Ge=c.ACTION_TYPES,He=(Ge.SET_CURRENCY,Ge.GET_CURRENCY,Ge.SET_GENESIS_BLOCK,Ge.GET_GENESIS_BLOCK,Ge.SET_CURRENT_BLOCK,Ge.GET_CURRENT_BLOCK,Ge.SET_ENDPOINT,Ge.GET_ENDPOINT,Ge.SET_LAST_BLOCK,Ge.GET_LAST_BLOCK,Ge.SET_LAST_FINALIZED_BLOCK,Ge.GET_LAST_FINALIZED_BLOCK,Ge.SET_BLOCK_HASH,Ge.GET_BLOCK_HASH,Ge.SET_BLOCK_NUMBER,Ge.GET_BLOCK_NUMBER,{block:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{endBlock:2,genesisBlock:0,lastBlock:0,lastFinalizedBlock:0,startBlock:1},t=arguments.length>1?arguments[1]:void 0;return t.type,e},currency:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"DOT",t=arguments.length>1?arguments[1]:void 0;return t.type,e},endpoint:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{endpoint:"wss://rpc.polkadot.io"},t=arguments.length>1?arguments[1]:void 0;return t.type,e}}),Ke=n(16),Ue=o.ACTION_TYPES,Me=Ue.ADD_COLUMNS,Ye=Ue.ADD_ROW,ze=Ue.ADD_ROWS,Ve=Ue.CLEAR_TABLE,qe=Ue.SET_COLUMNS,We=0,Ze={columns:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{columns:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Me:return[].concat(Object(Ke.a)(e),Object(Ke.a)(t.payload));case qe:return t.payload;default:return e}},rows:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{rows:[]},t=arguments.length>1?arguments[1]:void 0,n=e.rows;switch(t.type){case Ye:var r="".concat(++We);return t.payload.key=r,{rows:[].concat(Object(Ke.a)(n),[t.payload])};case ze:return{rows:[].concat(Object(Ke.a)(n),[t.payload])};case Ve:return{rows:[]};default:return e}}},Xe={apiReducers:Object(p.b)(we),loadingReducers:Object(p.b)(Pe),polkadotReducers:Object(p.b)(He),tableReducers:Object(p.b)(Ze)},Je=Object(p.b)(Xe);var $e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(p.c)(Je,e,Object(p.a)(f.a));return t}({});console.log($e.getState());var Qe=$e,et=(n(294),n(295),n(7)),tt=n(13),nt=n(9),rt=n(10),at=n(389),ct=(n(296),n(396)),ot=n(20),it=ct.a.Title,st=function(e){var t=e.className,n=e.style,r=at.a.Header;return Object(ot.jsx)(r,{className:t,style:n,children:Object(ot.jsx)(it,{style:{margin:"1rem",textAlign:"center"},children:"Kevin Scan"})})},ut=n(390),lt=n(398),dt=function(e){Object(nt.a)(n,e);var t=Object(rt.a)(n);function n(e){return Object(et.a)(this,n),t.call(this,e)}return Object(tt.a)(n,[{key:"render",value:function(){var e=this.state.percentLoaded;return Object(ot.jsxs)(ut.a,{children:[Object(ot.jsx)("p",{style:{textAlign:"center"},children:"Loading..."}),Object(ot.jsx)(lt.a,{percent:e,status:"active"})]})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{percentLoaded:e.percentLoaded}}}]),n}(i.Component),pt=Object(d.b)((function(e){return{percentLoaded:e.loadingReducers.percentLoaded}}))(dt),ft=n(183),bt=n(3),ht=n(130),kt=n(22),Ot=n.n(kt),Et=n(32),jt=n(11),vt=n(96),mt=n(395),yt=n(391),gt=n(392),xt=n(160),Tt=n(70),_t=n(399),Bt=n(397),Lt=n(75),Ct=n(401),St=n(402),Nt=n(403),At=n(404),Dt=n(405),wt=n(406),Rt=n(232),It=n(407),Ft=o.addColumns,Pt=o.addRow,Gt=o.addRows,Ht=o.clearTable,Kt=o.setColumns,Ut=a.setLoaded,Mt=a.setLoading,Yt=a.setPercentLoaded,zt=function(e){Object(nt.a)(n,e);var t=Object(rt.a)(n);function n(e){var r;return Object(et.a)(this,n),(r=t.call(this,e)).inputForm=s.a.createRef(),r.menu=Object(ot.jsxs)(vt.a,{onClick:function(e){},children:[Object(ot.jsx)(vt.a.Item,{onClick:function(e){console.log(e),r.setState({blockchain:"Avalanche",endpoint:"ws://NEED_URL:9650/ext/bc/C/ws"})},icon:Object(ot.jsx)(Ct.a,{}),children:"Avalanche"},"1"),Object(ot.jsx)(vt.a.Item,{onClick:function(e){console.log(e),r.setState({blockchain:"Binance Smart Chain",endpoint:"wss://bsc-ws-node.nariox.org:443"})},icon:Object(ot.jsx)(St.a,{}),children:"Binance Smart Chain"},"2"),Object(ot.jsx)(vt.a.Item,{onClick:function(e){console.log(e),r.setState({blockchain:"Ethereum",endpoint:"wss://mainnet.infura.io/ws"})},icon:Object(ot.jsx)(Nt.a,{}),children:"Ethereum"},"3"),Object(ot.jsx)(vt.a.Item,{onClick:function(e){console.log(e),r.setState({blockchain:"Polygon",endpoint:"wss://socket.polygon.io/stocks"})},icon:Object(ot.jsx)(At.a,{}),children:"Polygon"},"4"),Object(ot.jsx)(vt.a.Item,{onClick:function(e){console.log(e),r.setState({blockchain:"Polkadot",endpoint:"wss://rpc.polkadot.io"})},icon:Object(ot.jsx)(Dt.a,{}),children:"Polkadot"},"5"),Object(ot.jsx)(vt.a.Item,{onClick:function(e){console.log(e),r.setState({blockchain:"Solana",endpoint:"wss://api.devnet.solana.com/"})},icon:Object(ot.jsx)(wt.a,{}),children:"Solana"},"6")]}),r.clickListener=r.clickListener.bind(Object(jt.a)(r)),r.subscribeToBlocks=r.subscribeToBlocks.bind(Object(jt.a)(r)),r.unsubscribeToBlocks=r.unsubscribeToBlocks.bind(Object(jt.a)(r)),r.log=r.log.bind(Object(jt.a)(r)),r.misc=r.misc.bind(Object(jt.a)(r)),r}return Object(tt.a)(n,[{key:"componentDidMount",value:function(){console.log("Form.jsx - componentDidMount()"),this.state.api.type&&(this.props.setPercentLoaded(100),this.props.setLoaded())}},{key:"componentDidUpdate",value:function(){console.log("Form.jsx - componentDidUpdate()")}},{key:"dropdownListener",value:function(){var e=Object(Et.a)(Ot.a.mark((function e(t){return Ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clickListener",value:function(){var e=Object(Et.a)(Ot.a.mark((function e(t){return Ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.clear(),this.props.setLoading(),e.next=4,this.props.clearTable();case 4:if(e.sent,!this.state.api.type){e.next=10;break}return e.next=9,this.buildTableObjects();case 9:e.sent;case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"buildTableObjects",value:function(){var e=Object(Et.a)(Ot.a.mark((function e(){var t,n,r,a,c,o,i,s=this;return Ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],n=this.inputForm.current,parseInt(n.getFieldValue("endpoint"))||this.state.endpoint,r=parseInt(n.getFieldValue("startBlock"))||0,e.next=6,this.getBlockData(r);case 6:return e.sent,a=parseInt(n.getFieldValue("endBlock"))||0,e.next=10,this.getBlockData(a);case 10:e.sent,100/(c=a-r),[],o=Ot.a.mark((function e(n){var a,c,o,i;return Ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.getHashFromNumber(r+n);case 2:return a=e.sent,e.next=5,s.getEventsFromHash(a);case 5:return c=e.sent,e.next=8,s.parseEventData(c);case 8:(o=e.sent).forEach((function(e,t){s.props.addRow(e)})),i=[],Object.keys(o[0]).forEach((function(e){switch(e){case"arguments":case"key":return;default:i.push({title:"".concat(e.toLocaleUpperCase()),dataIndex:"".concat(e),key:"".concat(e)})}})),t=i;case 13:case"end":return e.stop()}}),e)})),i=0;case 16:if(!(i<=c)){e.next=21;break}return e.delegateYield(o(i),"t0",18);case 18:i++,e.next=16;break;case 21:this.props.setColumns(t),this.props.setPercentLoaded(100),this.props.setLoaded();case 24:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"parseEventData",value:function(){var e=Object(Et.a)(Ot.a.mark((function e(t){var n,r,a,c,o,i,s,u,l,d,p,f,b,h,k,O,E,j,v;return Ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],r=t.createdAtHash,e.next=4,this.getBlockHeaderFromHash(r);case 4:return a=e.sent,e.next=7,this.getBlockNumberFromHash(r);case 7:return c=e.sent,e.next=10,this.getTimeFromHash(r);case 10:e.sent,o={blockNumber:c,events:[]},i=Object(ht.a)(t),e.prev=13,i.s();case 15:if((s=i.n()).done){e.next=29;break}return u=s.value,l=u.get("event"),d=l.data,l.index,p=l.meta,f=l.method,b=l.section,h=u.phase,k=d.toHuman(),O=Object(bt.a)(k,1),E=O[0],d.meta,p.args,p.docs,p.isEmpty,p.name,p.registry,p.Type,j=Object(bt.a)(h.asApplyExtrinsic.words,1),v=j[0],e.next=25,a.author;case 25:e.sent,o.events.push({eventId:"".concat(c,"-").concat(v),event:"".concat(b,".").concat(f),extraData:[E.class,E.paysFee,E.weight]});case 27:e.next=15;break;case 29:e.next=34;break;case 31:e.prev=31,e.t0=e.catch(13),i.e(e.t0);case 34:return e.prev=34,i.f(),e.finish(34);case 37:return n.push(o),t.filter((function(e){e.phase.isApplyExtrinsic})).map((function(e){var t=e.event;return"".concat(t.section,".").concat(t.method)})),console.log(n),e.abrupt("return",n);case 41:case"end":return e.stop()}}),e,this,[[13,31,34,37]])})));return function(t){return e.apply(this,arguments)}}()},{key:"subscribeToBlocks",value:function(){var e=Object(Et.a)(Ot.a.mark((function e(){var t,n,r,a,c=this;return Ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.api,n=t.derive,r=t.rpc,e.next=4,r.chain.getBlock();case 4:a=e.sent,a.block.header,n.chain.subscribeNewHeads((function(e){c.state.subscribe&&console.log("Block Number#".concat(e.number,"\tBlock Author: ").concat(e.author))}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getBlockData",value:function(){var e=Object(Et.a)(Ot.a.mark((function e(t){var n,r,a,c,o;return Ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.state.api,e.next=3,this.getHashFromNumber(t);case 3:return n=e.sent,e.next=6,this.getBlockFromHash(n);case 6:return r=e.sent,a=r.block,e.next=10,this.getEventsFromHash(n);case 10:return c=e.sent,e.next=13,this.getTimeFromHash(n);case 13:return o=e.sent,null===a||void 0===a?void 0:a.extrincs,e.abrupt("return",{block:a,hash:n,events:c,time:o});case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"unsubscribeToBlocks",value:function(){this.setState({subscribe:!1})}},{key:"printDocumentation",value:function(e){var t=e.docs;console.log("Documentation:\n".concat(t.map((function(e){return e.toString()})).join("\n")))}},{key:"getLastFinalizedBlockNumber",value:function(){var e=Object(Et.a)(Ot.a.mark((function e(){var t,n,r;return Ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.api,n=t.derive,t.query,r=n.chain,e.abrupt("return",r.bestNumberFinalized());case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getBlockNumberFromHash",value:function(){var e=Object(Et.a)(Ot.a.mark((function e(t){var n,r,a,c;return Ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.state.api).type){e.next=8;break}return r=n.rpc,a=r.chain,e.next=6,a.getBlock(t);case 6:return c=e.sent,e.abrupt("return",parseInt(c.block.header.number.toString()));case 8:return e.abrupt("return",0);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getHashFromNumber",value:function(){var e=Object(Et.a)(Ot.a.mark((function e(t){var n,r,a,c;return Ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.state.api).type){e.next=8;break}return r=n.rpc,a=r.chain,e.next=6,a.getBlockHash(t);case 6:return c=e.sent,e.abrupt("return",c);case 8:return e.abrupt("return",0);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getBlockFromHash",value:function(){var e=Object(Et.a)(Ot.a.mark((function e(t){var n,r,a,c;return Ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.state.api).type){e.next=9;break}return r=n.rpc,a=r.chain,e.next=6,a.getBlock(t);case 6:return c=e.sent,c.block.extrincs,e.abrupt("return",c);case 9:return e.abrupt("return",0);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getBlockHeaderFromHash",value:function(){var e=Object(Et.a)(Ot.a.mark((function e(t){var n,r,a,c;return Ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.state.api).type){e.next=8;break}return r=n.rpc,a=r.chain,e.next=6,a.getHeader(t);case 6:return c=e.sent,e.abrupt("return",c);case 8:return e.abrupt("return",0);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTimeFromHash",value:function(){var e=Object(Et.a)(Ot.a.mark((function e(t){var n,r,a,c,o,i,s,u,l,d,p,f,b;return Ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.state,r=n.api,n.lastBlock,n.lastFinalizedBlock,!r.type){e.next=25;break}return r.derive.chain,a=r.rpc.chain,e.next=6,a.getBlock(t);case 6:return c=e.sent,c.block,o=r.query.timestamp,e.next=11,o.didUpdate();case 11:return e.sent,e.next=14,o.now();case 14:return i=e.sent,s=Object(bt.a)(i.words,1),u=s[0],new Date(u),l=new Date,d=l-u,p=u-l,f=l-i.words[0]*i.words[1],b=new Date(d),new Date(p),new Date(f),e.abrupt("return",b);case 25:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getEventsFromHash",value:function(){var e=Object(Et.a)(Ot.a.mark((function e(t){var n,r,a,c,o;return Ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.state.api).type){e.next=9;break}return r=n.query,a=r.system,c=a.events,e.next=7,c.at(t);case 7:return o=e.sent,e.abrupt("return",o);case 9:return e.abrupt("return",{});case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"parseEventDataAlt",value:function(){var e=Object(Et.a)(Ot.a.mark((function e(t){var n,r,a,c,o,i,s,u,l,d,p,f,b,h,k,O,E,j,v;return Ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.createdAtHash,e.next=3,this.getBlockHeaderFromHash(n);case 3:return r=e.sent,e.next=6,this.getBlockNumberFromHash(n);case 6:return a=e.sent,e.next=9,this.getTimeFromHash(n);case 9:c=e.sent,o={blockNumber:a,children:[],timestamp:c.toISOString()},i=Object(ht.a)(t),e.prev=12,i.s();case 14:if((s=i.n()).done){e.next=28;break}return u=s.value,l=u.get("event"),d=l.data,l.index,p=l.meta,f=l.method,b=l.section,h=u.phase,k=d.toHuman(),O=Object(bt.a)(k,1),O[0],d.meta,E=p.args,p.docs,p.isEmpty,p.name,p.registry,p.Type,j=Object(bt.a)(h.asApplyExtrinsic.words,1),v=j[0],e.next=24,r.author;case 24:e.sent,o.children.push({arguments:E.toHuman(),eventId:"".concat(a,"-").concat(v),event:"".concat(b,".").concat(f)});case 26:e.next=14;break;case 28:e.next=33;break;case 30:e.prev=30,e.t0=e.catch(12),i.e(e.t0);case 33:return e.prev=33,i.f(),e.finish(33);case 36:return t.filter((function(e){e.phase.isApplyExtrinsic})).map((function(e){var t=e.event;return"".concat(t.section,".").concat(t.method)})),e.abrupt("return",[o]);case 38:case"end":return e.stop()}}),e,this,[[12,30,33,36]])})));return function(t){return e.apply(this,arguments)}}()},{key:"log",value:function(e){console.log("props:"),console.log(this.props),console.log("state:"),console.log(this.state)}},{key:"misc",value:function(e){console.log(e),this.props.clearTable()}},{key:"render",value:function(){var e=this.state,t=e.blockchain,n=e.endBlock,r=e.endpoint,a=e.lastBlock,c=e.loading,o=e.startBlock;return Object(ot.jsxs)(mt.a,Object(ft.a)(Object(ft.a)({name:"blockchainData"},{labelCol:{span:8},wrapperCol:{span:16}}),{},{layout:"horizontal",initialValues:{endpoint:r,startBlock:o,endBlock:n||a},ref:this.inputForm,scrollToFirstError:!0,colon:!1,children:[Object(ot.jsx)(yt.a,{orientation:"left",children:"Blockchain Info"}),Object(ot.jsxs)(ut.a,{align:"middle",flex:"auto",justify:"center",children:[Object(ot.jsx)(gt.a,{flex:1,children:Object(ot.jsx)(xt.a.Button,{overlay:this.menu,buttonsRender:function(e){var t=Object(bt.a)(e,2),n=t[0],r=t[1];return[Object(ot.jsx)(Tt.a,{title:"Blockchain choice",children:n},"leftButton"),s.a.cloneElement(r,{icon:Object(ot.jsx)(Rt.a,{}),loading:!1})]},children:t})}),Object(ot.jsx)(gt.a,{flex:2,children:Object(ot.jsx)(mt.a.Item,{label:"Endpoint",name:"endpoint",tooltip:"Blockchain Endpoint URL",rules:[{required:!0,message:"Please input the endpoint you would lke to request blockchain data from."}],shouldUpdate:function(e,t){return e!=t},required:!0,children:Object(ot.jsx)(_t.a,{})})})]}),Object(ot.jsx)(yt.a,{orientation:"left",children:"Blocks"}),Object(ot.jsxs)(ut.a,{flex:"auto",justify:"center",children:[Object(ot.jsx)(gt.a,{flex:1,children:Object(ot.jsx)(mt.a.Item,{label:"Start Block",name:"startBlock",tooltip:"Beginning block range",hasFeedback:!0,labelAlign:"left",preserve:!0,rules:[{required:!0,message:"Start Block is a required field."},{type:"number",min:1,max:Number.MAX_SAFE_INTEGER,message:"Value must be greater than 0 and less than 9,007,199,254,740,991. (Maximum integer value)"},function(e){e.getFieldInstance,e.getFieldValue;var t=e.getFieldsValue;e.isFieldTouched,e.isFieldValidating,e.resetFields,e.scrollToField,e.submit;return{validator:function(e,n){var r=t();return r.startBlock<r.endBlock?Promise.resolve():Promise.reject(new Error("Start Block must be less than End Block."))}}}],trigger:"onChange",required:!0,children:Object(ot.jsx)(Bt.a,{addonAfter:Object(ot.jsx)(It.a,{}),controls:!0,min:1,style:{width:"100%"}})})}),Object(ot.jsx)(gt.a,{flex:1,children:Object(ot.jsx)(mt.a.Item,{label:"End Block",labelAlign:"left",name:"endBlock",tooltip:"Ending block range",hasFeedback:!0,preserve:!0,validateFirst:!0,rules:[{type:"number",min:1,max:Number.MAX_SAFE_INTEGER,message:"Value must be greater than 0 and less than 9,007,199,254,740,991. (Maximum integer value)"},{required:!0,message:"End Block is a required field."},function(e){e.getFieldInstance,e.getFieldValue;var t=e.getFieldsValue;e.isFieldTouched,e.isFieldValidating,e.resetFields,e.scrollToField,e.submit;return{validator:function(e,n){var r=t(),a=r.startBlock;return r.endBlock>a?Promise.resolve():Promise.reject(new Error("End Block must be greater than Start Block."))}}}],trigger:"onChange",required:!0,children:Object(ot.jsx)(Bt.a,{addonAfter:Object(ot.jsx)(It.a,{}),controls:!0,min:1,style:{width:"100%"}})})})]}),Object(ot.jsx)(yt.a,{orientation:"left",children:"Actions"}),Object(ot.jsxs)(ut.a,{flex:"auto",guter:10,justify:"center",children:[Object(ot.jsx)(gt.a,{flex:2,children:Object(ot.jsx)(Lt.a,{className:"scan_button",type:"primary",htmlType:"submit",onClick:this.clickListener,block:!0,disabled:c,children:"Scan"})}),Object(ot.jsx)(gt.a,{flex:1,children:Object(ot.jsx)(Lt.a,{type:"default",onClick:this.subscribeToBlocks,block:!0,disabled:c,children:"Subscribe"})}),Object(ot.jsx)(gt.a,{flex:1,children:Object(ot.jsx)(Lt.a,{type:"default",onClick:this.unsubscribeToBlocks,span:1,block:!0,disabled:c,children:"Unsubscribe"})})]}),Object(ot.jsx)(yt.a,{orientation:"left",children:"Debugging Buttons"}),Object(ot.jsxs)(ut.a,{flex:"auto",guter:10,justify:"center",children:[Object(ot.jsx)(gt.a,{flex:1,children:Object(ot.jsx)(Lt.a,{type:"default",onClick:this.log,span:1,block:!0,children:"LOG"})}),Object(ot.jsx)(gt.a,{flex:1,children:Object(ot.jsx)(Lt.a,{type:"default",onClick:this.misc,span:1,block:!0,children:"MISC"})})]})]}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{api:e.api,blockchain:e.blockchain,endBlock:e.endBlock,endpoint:e.endpoint,genesisBlock:e.genesisBlock,lastBlock:e.lastBlock,lastFinalizedBlock:e.lastFinalizedBlock,loading:e.loading,percentLoaded:e.percentLoaded,startBlock:e.startBlock}}}]),n}(i.Component),Vt=Object(d.b)((function(e){var t=e.apiReducers,n=e.loadingReducers,r=e.polkadotReducers,a=t.api,c=t.blockchain,o=t.endpoint,i=r.block,s=i.endBlock,u=i.genesisBlock,l=i.lastBlock,d=i.lastFinalizedBlock,p=i.startBlock;return{api:a,blockchain:c,endBlock:s,endpoint:o,genesisBlock:u,lastBlock:l,lastFinalizedBlock:d,loading:n.loading,percentLoaded:n.percentLoaded,startBlock:p}}),(function(e){return{addColumns:function(t){e(Ft(t))},addRow:function(t){e(Pt(t))},addRows:function(t){e(Gt(t))},clearTable:function(){e(Ht())},setColumns:function(t){e(Kt(t))},setLoaded:function(){e(Ut())},setLoading:function(){e(Mt())},setPercentLoaded:function(t){e(Yt(t))}}}))(zt),qt=n(394),Wt=n(408),Zt=a.setLoaded,Xt=a.setLoading,Jt=a.setPercentLoaded,$t=function(e){Object(nt.a)(n,e);var t=Object(rt.a)(n);function n(e){var r;return Object(et.a)(this,n),(r=t.call(this,e)).createFilters=function(e){var t=r.state.rows;e.map((function(e){var n,r=Object(ht.a)(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;switch(e.key){case"blockNumber":e.sorter=function(e,t){return e},e.sortDirections=["ascend","descend"];case"event":var c="".concat(a.event);e.filters=[{text:c,value:c}],e.onFilter=function(){console.log(item)};default:e.render=function(e){return e}}return e}}catch(o){r.e(o)}finally{r.f()}}))},r.populateEventFilter=function(e){return e.map((function(e){return"event"==e.key&&(e.filters=[{text:"system.ExtrinsicSuccess",value:"system.ExtrinsicSuccess"}],e.onFilter=function(e,t){return t.event==e}),e})),e},r.populateTable=r.populateTable.bind(Object(jt.a)(r)),r.createFilters=r.createFilters.bind(Object(jt.a)(r)),r.populateEventFilter=r.populateEventFilter.bind(Object(jt.a)(r)),r}return Object(tt.a)(n,[{key:"componentDidMount",value:function(){console.log("Table.jsx - componentDidMount()"),this.props.setPercentLoaded(100),this.props.setLoaded()}},{key:"componentDidUpdate",value:function(){console.log("Table.jsx - componentDidUpdate()");this.state.api}},{key:"populateTable",value:function(){var e=this.state,t=e.loading,n=(e.percentLoaded,e.rows),r=this.populateEventFilter([{title:"EVENT ID",dataIndex:"eventId",key:"eventId"},{title:"EVENT",dataIndex:"event",key:"event"},{title:"EXTRA DATA",dataIndex:"extraData",key:"extraData",render:function(e,t,n){var r=t.extraData.map((function(e){return Object(ot.jsx)("li",{children:e})}));return Object(ot.jsx)("ul",{children:r})}}]);return Object(ot.jsx)(qt.a,{columns:[{title:"BLOCK NUMBER",dataIndex:"blockNumber",key:"blockNumber",sorter:function(e,t){return e.blockNumber-t.blockNumber},sortDirections:["ascend","descend"]}],dataSource:n,expandable:{childrenColumnName:"children",expandedRowRender:function(e,t){return Object(ot.jsx)(qt.a,{columns:r,dataSource:e.events,pagination:!1},t)},expandIcon:function(e){var t=e.expanded,n=e.onExpand,r=e.record;return t?Object(ot.jsx)(It.a,{onClick:function(e){return n(r,e)}}):Object(ot.jsx)(Wt.a,{onClick:function(e){return n(r,e)}})},expandRowByClick:!0,rowExpandable:function(e){return!!e.events}},loading:{spinning:t},pagination:!0,title:function(){return"Blockchain Data"}})}},{key:"render",value:function(){return this.populateTable()}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.api,r=e.columns,a=e.loading,c=e.percentLoaded,o=e.rows;return{api:n,columns:r.columns,loading:a,percentLoaded:c,rows:o.rows}}}]),n}(i.Component),Qt=Object(d.b)((function(e){var t=e.apiReducers,n=e.loadingReducers,r=e.tableReducers,a=t.api,c=n.loading,o=n.percentLoaded;return{api:a,columns:r.columns,loading:c,percentLoaded:o,rows:r.rows}}),(function(e){return{setLoaded:function(){e(Zt())},setLoading:function(){e(Xt())},setPercentLoaded:function(t){e(Jt(t))}}}))($t),en=function(e){var t=e.style,n=at.a.Footer,r=(new Date).getFullYear();return Object(ot.jsxs)(n,{style:t,children:["Decentralized Application \xa9",r," Created by Kevin Loy"]})},tn=r.setApi,nn=a.setLoaded,rn=a.setPercentLoaded,an=at.a.Content,cn=function(e){Object(nt.a)(n,e);var t=Object(rt.a)(n);function n(e){return Object(et.a)(this,n),t.call(this,e)}return Object(tt.a)(n,[{key:"componentDidMount",value:function(){console.log("App.jsx - componentDidMount()"),this.props.setApi(this.state.endpoint),this.props.setPercentLoaded(50)}},{key:"componentDidUpdate",value:function(){console.log("App.jsx - componentDidUpdate()")}},{key:"render",value:function(){var e=this.state,t=(e.loading,e.percentLoaded);return Object(ot.jsx)(at.a,{style:{minHeight:"100vh"},children:Object(ot.jsxs)(at.a,{className:"site-layout",children:[Object(ot.jsx)(st,{className:"site-layout-background"}),Object(ot.jsx)(an,{style:{margin:"0 1rem"},children:t<50?Object(ot.jsx)(pt,{}):Object(ot.jsxs)("div",{className:"site-layout-background",style:{padding:24,minHeight:360},children:[Object(ot.jsx)(Vt,{}),Object(ot.jsx)(Qt,{})]})}),Object(ot.jsx)(en,{style:{textAlign:"center"}})]})})}}],[{key:"getDerivedStateFromProps",value:function(e){return{api:e.api,blockchain:e.blockchain,endpoint:e.endpoint,loading:e.loading,percentLoaded:e.percentLoaded,currency:e.currency}}}]),n}(i.Component),on=Object(d.b)((function(e){var t=e.apiReducers,n=e.loadingReducers,r=e.polkadotReducers;return{api:t.api,blockchain:t.blockchain,endpoint:t.endpoint,loading:n.loading,percentLoaded:n.percentLoaded,currency:r.currency}}),(function(e){return{setApi:function(t){e(tn(t))},setLoaded:function(){e(nn())},setPercentLoaded:function(t){e(rn(t))}}}))(cn);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var sn=n(34);l.a.render(Object(ot.jsx)(s.a.StrictMode,{children:Object(ot.jsx)(d.a,{store:Qe,children:Object(ot.jsx)(sn.b,{componentSize:"small",space:{size:"middle"},children:Object(ot.jsx)(on,{})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[371,1,2]]]);
//# sourceMappingURL=main.579a42b2.chunk.js.map