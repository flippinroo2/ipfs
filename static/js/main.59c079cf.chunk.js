(this.webpackJsonpacala_assignment=this.webpackJsonpacala_assignment||[]).push([[0],{1073:function(e,t){},1075:function(e,t){},1108:function(e,t){},1113:function(e,t){},1115:function(e,t){},1122:function(e,t){},1135:function(e,t){},1153:function(e,t){},1160:function(e,t){},1162:function(e,t){},1170:function(e,t){},1172:function(e,t){},1186:function(e,t){},1247:function(e,t){},1280:function(e,t){},1349:function(e,t){},1470:function(e,t){},1486:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(125),s=n.n(c),o=(n(732),n(294)),i=n(681),u=n(6),l=n.n(u),h=n(17),p=n(3),d=n(4),b=n(10),f=n(12),k=n(7),m=n(8),x=n(1520),j=n(1515),v=n(1506),g=n(201),O=n(1519),y=n(1517),w=n(1512),B=n(1513),S=n(1514),I=n(358),F=n(247),H=n(1518),T=n(151),E=n(1516),N=n(1521),C=n(1522),D=n(1523),L=n(1524),A=n(1525),q=n(1526),P=n(708),z=(n(733),n(36)),U=(n(735),v.a.Header),V=v.a.Content,M=v.a.Footer,R=function(e){Object(k.a)(n,e);var t=Object(m.a)(n);function n(e){var a;Object(d.a)(this,n),(a=t.call(this,e)).menu=Object(z.jsxs)(g.a,{onClick:function(e){},children:[Object(z.jsx)(g.a.Item,{onClick:function(e){console.log(e),a.setState({blockchain:"Avalanche",endpoint:"ws://NEED_URL:9650/ext/bc/C/ws"})},icon:Object(z.jsx)(N.a,{}),children:"Avalanche"},"1"),Object(z.jsx)(g.a.Item,{onClick:function(e){console.log(e),a.setState({blockchain:"Binance Smart Chain",endpoint:"wss://bsc-ws-node.nariox.org:443"})},icon:Object(z.jsx)(C.a,{}),children:"Binance Smart Chain"},"2"),Object(z.jsx)(g.a.Item,{onClick:function(e){console.log(e),a.setState({blockchain:"Ethereum",endpoint:"wss://mainnet.infura.io/ws"})},icon:Object(z.jsx)(D.a,{}),children:"Ethereum"},"3"),Object(z.jsx)(g.a.Item,{onClick:function(e){console.log(e),a.setState({blockchain:"Polygon",endpoint:"wss://socket.polygon.io/stocks"})},icon:Object(z.jsx)(L.a,{}),children:"Polygon"},"4"),Object(z.jsx)(g.a.Item,{onClick:function(e){console.log(e),a.setState({blockchain:"Polkadot",endpoint:"wss://rpc.polkadot.io"})},icon:Object(z.jsx)(A.a,{}),children:"Polkadot"},"5"),Object(z.jsx)(g.a.Item,{onClick:function(e){console.log(e),a.setState({blockchain:"Solana",endpoint:"wss://api.devnet.solana.com/"})},icon:Object(z.jsx)(q.a,{}),children:"Solana"},"6")]}),a.inputForm=r.a.createRef();var c={api:{},blockchain:"Polkadot",endBlock:1,endpoint:"wss://rpc.polkadot.io",events:{columns:[{title:"Block Number",dataIndex:"blockNumber",key:"blockNumber"},{title:"Block Author",dataIndex:"blockAuthor",key:"blockAuthor"},{title:"Timestamp",dataIndex:"timestamp",key:"timestamp"},{title:"Event ID",dataIndex:"eventId",key:"eventId"},{title:"Event",dataIndex:"event",key:"event"},{title:"Arguments",dataIndex:"arguments",key:"arguments",render:function(e){var t=Object(p.a)(e,1)[0];return Object(z.jsx)("span",{children:t})}}],data:[]},lastBlock:0,loading:!0,percentLoaded:0,startBlock:1,subscribe:!0,transactions:[]};return a.state=c,a.clickListener=a.clickListener.bind(Object(f.a)(a)),a.subscribeToBlocks=a.subscribeToBlocks.bind(Object(f.a)(a)),a.unsubscribeToBlocks=a.unsubscribeToBlocks.bind(Object(f.a)(a)),a}return Object(b.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.initializeProvider().then(Object(h.a)(l.a.mark((function t(){var n,a,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state.api,a=n.query,a.system,t.next=5,e.getLastFinalizedBlockNumber();case 5:r=t.sent,t.next=9;break;case 9:e.setState({lastBlock:r.words[0],loading:!1});case 10:case"end":return t.stop()}}),t)}))))}},{key:"debug",value:function(){var e=Object(h.a)(l.a.mark((function e(t){var n,a,r,c,s,o,i,u,h,d,b;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.state.api,n.derive,n.query,a=n.rpc,e.next=4,n.registry.getChainProperties();case 4:return e.sent,e.next=7,n.query.system.number();case 7:return r=e.sent,e.next=10,a.system.chain.raw();case 10:return e.sent,c=Object(p.a)(r.words,1),s=c[0],e.next=14,this.getHashFromNumber(s);case 14:return o=e.sent,e.next=17,a.chain.getHeader();case 17:return e.sent,e.next=20,a.chain.getFinalizedHead();case 20:return e.sent,e.next=23,a.chain.getBlock(o);case 23:return i=e.sent,e.next=26,i.block.header;case 26:return u=e.sent,e.next=29,this.getEventsFromHash(i.block.header.hash);case 29:return h=e.sent,e.next=32,this.parseEventData(h);case 32:return d=e.sent,e.next=35,u.digest;case 35:return b=e.sent,e.next=38,b.logs;case 38:return e.sent,e.next=41,n.runtimeMetadata.magicNumber;case 41:return e.sent,e.next=44,i.block.extrinsics.forEach((function(e,t){var n=e.isSigned,a=(e.meta,e.method),r=a.args,c=a.method,s=a.section;console.log("".concat(s,".").concat(c,":: ").concat(d||"no events")),console.log("Function:\n".concat(s,".").concat(c,"(").concat(r.map((function(e){return e.toString()})).join(", "),")")),n&&console.log("signer=".concat(e.signer.toString(),", nonce=").concat(e.nonce.toString()))}));case 44:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeProvider",value:function(){var e=Object(h.a)(l.a.mark((function e(){var t,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.endpoint,n=new x.a(t),e.next=4,j.a.create({provider:n});case 4:a=e.sent,this.setState({api:a});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"printDocumentation",value:function(e){var t=e.docs;console.log("Documentation:\n".concat(t.map((function(e){return e.toString()})).join("\n")))}},{key:"getBlockData",value:function(){var e=Object(h.a)(l.a.mark((function e(t){var n,a,r,c,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.state.api,e.next=3,this.getHashFromNumber(t);case 3:return n=e.sent,e.next=6,this.getBlockFromHash(n);case 6:return a=e.sent,r=a.block,e.next=10,this.getEventsFromHash(n);case 10:return c=e.sent,e.next=13,this.getTimeFromHash(n);case 13:return s=e.sent,e.next=16,r.extrincs;case 16:return e.sent,e.abrupt("return",{block:r,hash:n,events:c,time:s});case 18:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"subscribeToBlocks",value:function(){var e=Object(h.a)(l.a.mark((function e(){var t,n,a,r,c=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.api,n=t.derive,a=t.rpc,e.next=4,a.chain.getBlock();case 4:r=e.sent,r.block.header,n.chain.subscribeNewHeads((function(e){c.state.subscribe&&console.log("Block Number#".concat(e.number,"\tBlock Author: ").concat(e.author))}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"unsubscribeToBlocks",value:function(){this.setState({subscribe:!1})}},{key:"getLastFinalizedBlockNumber",value:function(){var e=Object(h.a)(l.a.mark((function e(){var t,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.api,n=t.derive,t.query,a=n.chain,e.abrupt("return",a.bestNumberFinalized());case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getBlockNumberFromHash",value:function(){var e=Object(h.a)(l.a.mark((function e(t){var n,a,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.state.api).type){e.next=8;break}return a=n.rpc,r=a.chain,e.next=6,r.getBlock(t);case 6:return c=e.sent,e.abrupt("return",parseInt(c.block.header.number.toString()));case 8:return e.abrupt("return",0);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getHashFromNumber",value:function(){var e=Object(h.a)(l.a.mark((function e(t){var n,a,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.state.api).type){e.next=8;break}return a=n.rpc,r=a.chain,e.next=6,r.getBlockHash(t);case 6:return c=e.sent,e.abrupt("return",c);case 8:return e.abrupt("return",0);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getBlockFromHash",value:function(){var e=Object(h.a)(l.a.mark((function e(t){var n,a,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.state.api).type){e.next=9;break}return a=n.rpc,r=a.chain,e.next=6,r.getBlock(t);case 6:return c=e.sent,c.block.extrincs,e.abrupt("return",c);case 9:return e.abrupt("return",0);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getBlockHeaderFromHash",value:function(){var e=Object(h.a)(l.a.mark((function e(t){var n,a,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.state.api).type){e.next=8;break}return a=n.rpc,r=a.chain,e.next=6,r.getHeader(t);case 6:return c=e.sent,e.abrupt("return",c);case 8:return e.abrupt("return",0);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTimeFromHash",value:function(){var e=Object(h.a)(l.a.mark((function e(t){var n,a,r,c,s,o,i,u,h,d,b,f,k;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.state,a=n.api,n.lastBlock,n.lastFinalizedBlock,a.derive.chain,r=a.rpc.chain,e.next=5,r.getBlock(t);case 5:return c=e.sent,c.block,s=a.query.timestamp,e.next=10,s.didUpdate();case 10:return e.sent,e.next=13,s.now();case 13:return o=e.sent,i=Object(p.a)(o.words,1),u=i[0],new Date(u),h=new Date,d=h-u,b=u-h,f=h-o.words[0]*o.words[1],k=new Date(d),new Date(b),new Date(f),e.abrupt("return",k);case 24:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getEventsFromHash",value:function(){var e=Object(h.a)(l.a.mark((function e(t){var n,a,r,c,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.state.api).type){e.next=9;break}return a=n.query,r=a.system,c=r.events,e.next=7,c.at(t);case 7:return s=e.sent,e.abrupt("return",s);case 9:return e.abrupt("return",{});case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"parseEventData",value:function(){var e=Object(h.a)(l.a.mark((function e(t){var n,a,r,c,s,o,u,h,d,b,f,k,m,x,j,v,g,O,y;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],a=Object(i.a)(t),e.prev=2,a.s();case 4:if((r=a.n()).done){e.next=25;break}return c=r.value,s=t.createdAtHash,o=c.get("event"),u=o.data,o.index,h=o.meta,d=o.method,b=o.section,f=c.phase,k=u.toHuman(),m=Object(p.a)(k,1),m[0],u.meta,x=h.args,h.docs,h.isEmpty,h.name,h.registry,h.Type,e.next=14,this.getBlockHeaderFromHash(s);case 14:return j=e.sent,e.next=17,this.getBlockNumberFromHash(s);case 17:return v=e.sent,g=Object(p.a)(f.asApplyExtrinsic.words,1),O=g[0],e.next=21,this.getTimeFromHash(s);case 21:y=e.sent,n.push({blockNumber:v,blockAuthor:j.author,timestamp:y.toISOString(),eventId:"".concat(v,"-").concat(O),event:"".concat(b,".").concat(d),arguments:x.toHuman()});case 23:e.next=4;break;case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(2),a.e(e.t0);case 30:return e.prev=30,a.f(),e.finish(30);case 33:return t.filter((function(e){e.phase.isApplyExtrinsic})).map((function(e){var t=e.event;return"".concat(t.section,".").concat(t.method)})),e.abrupt("return",n);case 35:case"end":return e.stop()}}),e,this,[[2,27,30,33]])})));return function(t){return e.apply(this,arguments)}}()},{key:"populateTable",value:function(){var e=Object(h.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=this.state.events.columns,a={columns:n,data:t},this.setState({events:a,loading:!1});case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clickListener",value:function(){var e=Object(h.a)(l.a.mark((function e(t){var n,a,r,c,s,o,i,u,h,p,d,b=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),n=this.inputForm.current,a=this.state,a.api,a.percentLoaded,r=this.state,c=r.endBlock,s=r.endpoint,o=r.startBlock,o=parseInt(n.getFieldValue("startBlock"))||o,c=parseInt(n.getFieldValue("endBlock"))||c,s=parseInt(n.getFieldValue("endpoint"))||s,i=c-o,e.next=10,this.getBlockData(c);case 10:return e.sent,e.next=13,this.getBlockData(o);case 13:e.sent,u=[],h=100/i,p=l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b.setState({percentLoaded:Math.round(t*h)}),e.next=3,b.getHashFromNumber(o+t);case 3:return n=e.sent,e.next=6,b.getEventsFromHash(n);case 6:return a=e.sent,e.next=9,b.parseEventData(a);case 9:e.sent.forEach((function(e,n){var a=e.blockNumber;e.key="".concat(t+a+n),u.push(e)}));case 11:case"end":return e.stop()}}),e)})),d=0;case 18:if(!(d<=i)){e.next=23;break}return e.delegateYield(p(d),"t0",20);case 20:d++,e.next=18;break;case 23:return e.next=25,this.populateTable(u);case 25:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"dropdownListener",value:function(){var e=Object(h.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.blockchain,n=e.lastBlock,a=e.endBlock,c=e.endpoint,s=e.events,i=e.loading,u=e.percentLoaded,l=e.startBlock,h=(e.transactions,s.columns),d=s.data,b="horizontal";return Object(z.jsx)(v.a,{style:{minHeight:"100vh"},children:Object(z.jsxs)(v.a,{className:"site-layout",children:[Object(z.jsx)(U,{className:"site-layout-background",style:{padding:0}}),Object(z.jsx)(V,{style:{margin:"0 1rem"},children:i?Object(z.jsx)(O.a,{percent:u,status:"active"}):Object(z.jsxs)("div",{className:"site-layout-background",style:{padding:24,minHeight:360},children:[Object(z.jsxs)(y.a,Object(o.a)(Object(o.a)({},{labelCol:{span:4},wrapperCol:{span:14}}),{},{layout:b,initialValues:{layout:b},ref:this.inputForm,children:[Object(z.jsx)(w.a,{orientation:"left",children:"Blockchain"}),Object(z.jsxs)(B.a,{children:[Object(z.jsx)(S.a,{flex:"auto",children:Object(z.jsx)(I.a.Button,{overlay:this.menu,buttonsRender:function(e){var t=Object(p.a)(e,2),n=t[0],a=t[1];return[Object(z.jsx)(F.a,{title:"Choose a blockchain",children:n},"leftButton"),r.a.cloneElement(a,{icon:Object(z.jsx)(P.a,{}),loading:!1})]},children:t})}),Object(z.jsx)(S.a,{flex:"auto",children:Object(z.jsx)(y.a.Item,{label:"Endpoint",name:"endpoint",tooltip:"TEST TOOLTIP",initialValue:c,rules:[{required:!0,message:"Please input the endpoint you would lke to request blockchain data from."}],shouldUpdate:function(e,t){return e!=t},required:!0,children:Object(z.jsx)(H.a,{})})})]}),Object(z.jsx)(w.a,{orientation:"left",children:"Blocks"}),Object(z.jsxs)(B.a,{children:[Object(z.jsx)(S.a,{flex:"auto",children:Object(z.jsx)(y.a.Item,{label:"Start Block",name:"startBlock",tooltip:"TEST TOOLTIP",initialValue:l,rules:[{required:!0,message:"Input the number of the block you would like to start the search at."}],shouldUpdate:function(e,t){return e!=t},required:!0,children:Object(z.jsx)(H.a,{})})}),Object(z.jsx)(S.a,{flex:"auto",children:Object(z.jsx)(y.a.Item,{label:"End Block",name:"endBlock",tooltip:"TEST TOOLTIP",rules:[{required:!0,message:"Input the number of the block you would like to finish the search at."}],shouldUpdate:function(e,t){return e!=t},required:!0,children:Object(z.jsx)(H.a,{placeholder:a?n:a})})})]}),Object(z.jsx)(w.a,{orientation:"left",children:"Actions"}),Object(z.jsx)(B.a,{children:Object(z.jsxs)(y.a.Item,Object(o.a)(Object(o.a)({},{wrapperCol:{span:14,offset:4}}),{},{children:[Object(z.jsx)(S.a,{flex:"auto",children:Object(z.jsx)(T.a,{type:"primary",onClick:this.clickListener,children:"Scan"})}),Object(z.jsx)(S.a,{flex:"auto",children:Object(z.jsx)(T.a,{type:"default",onClick:this.subscribeToBlocks,children:"Subscribe"})}),Object(z.jsx)(S.a,{flex:"auto",children:Object(z.jsx)(T.a,{type:"default",onClick:this.unsubscribeToBlocks,children:"Unsubscribe"})})]}))})]})),Object(z.jsx)(w.a,{orientation:"left",children:"Data"}),Object(z.jsx)(E.a,{columns:h,dataSource:d})]})}),Object(z.jsxs)(M,{style:{textAlign:"center"},children:["Decentralized Application \xa92021 Created by Kevin Loy",Object(z.jsx)("p",{className:"small-text",children:"...hire me please :D"})]})]})})}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(1482);s.a.render(Object(z.jsx)(r.a.StrictMode,{children:Object(z.jsx)(R,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},732:function(e,t,n){},733:function(e,t,n){},973:function(e,t){},995:function(e,t){},997:function(e,t){}},[[1486,1,2]]]);
//# sourceMappingURL=main.59c079cf.chunk.js.map